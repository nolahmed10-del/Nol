import{$ as N,a0 as H,a1 as Xe,a2 as pr,a3 as xe,a4 as M,a5 as Le,a6 as yr,a7 as io,a8 as De,a9 as Ia,aa as Sa,ab as Hn,ac as Z,ad as Te,ae as tn,af as Ta,ag as ke,ah as ae,ai as ka,aj as Na,ak as ge,al as Fa,am as Ca,an as mr,ao as Ra,ap as Vt,aq as Dn,ar as ts,as as ns,at as rs,au as ss,av as os,aw as is,ax as as,ay as cs,az as qn,aA as Nt,aB as us,aC as Oa,aD as Yt,aE as fs,aF as za,aG as Vn,aH as ds,aI as ao,aJ as ls,aK as La,aL as co,aM as bs,aN as Ma,aO as uo,aP as hs,aQ as _a,aR as ps}from"./core-COVrclSJ.js";import{b1 as q1,b0 as V1,b2 as Z1,b3 as W1,b4 as K1,aZ as Y1,b5 as X1,b6 as J1,b7 as Q1,b8 as eb,b9 as tb,ba as nb,bb as rb,bc as sb,bd as ob,be as ib,bf as ab,bg as cb,aY as ub,a_ as fb,bh as db,a$ as lb,bi as bb,bj as hb,bk as pb,bl as yb,bm as mb,bn as gb,bo as wb,bq as xb,bp as vb,aS as Eb,aW as Pb,aT as Ab,aX as Bb,aV as $b,br as Ib,aU as Sb,bs as Tb}from"./core-COVrclSJ.js";import{_ as fo}from"./index-CeAqENKG.js";const Ua="1.1.0";let te=class Zn extends Error{constructor(t,n={}){var i;const r=n.cause instanceof Zn?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof Zn&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Ua}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Ce(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const lo=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bo=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ho=/^\(.+?\).*?$/,ys=/^tuple(?<array>(\[(\d*)\])*)$/;function Wn(e){let t=e.type;if(ys.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Wn(o),s<n-1&&(t+=", ")}const r=Ce(ys,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Wn({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function st(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Wn(s),r!==n-1&&(t+=", ")}return t}function Xt(e){var t;return e.type==="function"?`function ${e.name}(${st(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${st(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${st(e.inputs)})`:e.type==="error"?`error ${e.name}(${st(e.inputs)})`:e.type==="constructor"?`constructor(${st(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const po=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ja(e){return po.test(e)}function Ga(e){return Ce(po,e)}const yo=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ha(e){return yo.test(e)}function Da(e){return Ce(yo,e)}const mo=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function qa(e){return mo.test(e)}function Va(e){return Ce(mo,e)}const go=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function nn(e){return go.test(e)}function Za(e){return Ce(go,e)}const wo=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Wa(e){return wo.test(e)}function Ka(e){return Ce(wo,e)}const xo=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Ya(e){return xo.test(e)}function Xa(e){return Ce(xo,e)}const Ja=/^receive\(\) external payable$/;function Qa(e){return Ja.test(e)}const ms=new Set(["memory","indexed","storage","calldata"]),ec=new Set(["indexed"]),Kn=new Set(["calldata","memory","storage"]);class tc extends te{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class nc extends te{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class rc extends te{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class sc extends te{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class oc extends te{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class ic extends te{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class ac extends te{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class cc extends te{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class uc extends te{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class pt extends te{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class fc extends te{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class dc extends te{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class lc extends te{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class bc extends te{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function hc(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const Pn=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Yn(e,t={}){if(qa(e))return pc(e,t);if(Ha(e))return yc(e,t);if(ja(e))return mc(e,t);if(Wa(e))return gc(e,t);if(Ya(e))return wc(e);if(Qa(e))return{type:"receive",stateMutability:"payable"};throw new fc({signature:e})}function pc(e,t={}){const n=Va(e);if(!n)throw new pt({signature:e,type:"function"});const r=ne(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Ne(r[a],{modifiers:Kn,structs:t,type:"function"}));const i=[];if(n.returns){const a=ne(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Ne(a[u],{modifiers:Kn,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function yc(e,t={}){const n=Da(e);if(!n)throw new pt({signature:e,type:"event"});const r=ne(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ne(r[i],{modifiers:ec,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function mc(e,t={}){const n=Ga(e);if(!n)throw new pt({signature:e,type:"error"});const r=ne(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ne(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function gc(e,t={}){const n=Ka(e);if(!n)throw new pt({signature:e,type:"constructor"});const r=ne(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ne(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function wc(e){const t=Xa(e);if(!t)throw new pt({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const xc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,vc=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ec=/^u?int$/;function Ne(e,t){var d,l;const n=hc(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(Pn.has(n))return Pn.get(n);const r=ho.test(e),s=Ce(r?vc:xc,e);if(!s)throw new oc({param:e});if(s.name&&Ac(s.name))throw new ic({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const b=ne(s.type),p=[],h=b.length;for(let v=0;v<h;v++)p.push(Ne(b[v],{structs:a}));u={components:p}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(Ec.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!vo(c))throw new rc({type:c});if(s.modifier){if(!((l=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&l.call(d,s.modifier)))throw new ac({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Kn.has(s.modifier)&&!Bc(c,!!s.array))throw new cc({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return Pn.set(n,f),f}function ne(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?ne(a,[...t,n.trim()]):ne(a,t,`${n}${i}`,r);case"(":return ne(a,t,`${n}${i}`,r+1);case")":return ne(a,t,`${n}${i}`,r-1);default:return ne(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new bc({current:n,depth:r});return t.push(n.trim()),t}function vo(e){return e==="address"||e==="bool"||e==="function"||e==="string"||lo.test(e)||bo.test(e)}const Pc=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Ac(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||lo.test(e)||bo.test(e)||Pc.test(e)}function Bc(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function gr(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!nn(a))continue;const c=Za(a);if(!c)throw new pt({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const p=u[l].trim();if(!p)continue;const h=Ne(p,{type:"struct"});f.push(h)}if(!f.length)throw new dc({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=Eo(c,t)}return r}const $c=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Eo(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(ho.test(i.type))r.push(i);else{const c=Ce($c,i.type);if(!(c!=null&&c.type))throw new uc({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new lc({type:f});r.push({...i,type:`tuple${u??""}`,components:Eo(t[f]??[],t,new Set([...n,f]))})}else if(vo(f))r.push(i);else throw new nc({type:f})}}return r}function Po(e){const t=gr(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];nn(o)||n.push(Yn(o,t))}return n}function gs(e){let t;if(typeof e=="string")t=Yn(e);else{const n=gr(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!nn(o)){t=Yn(o,n);break}}}if(!t)throw new tc({signature:e});return t}function ws(e){const t=[];if(typeof e=="string"){const n=ne(e),r=n.length;for(let s=0;s<r;s++)t.push(Ne(n[s],{modifiers:ms}))}else{const n=gr(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(nn(o))continue;const i=ne(o),a=i.length;for(let c=0;c<a;c++)t.push(Ne(i[c],{modifiers:ms,structs:n}))}}if(t.length===0)throw new sc({params:e});return t}function L(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function fe(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new _c(e.type);return`${e.name}(${rn(e.inputs,{includeName:t})})`}function rn(e,{includeName:t=!1}={}){return e?e.map(n=>Ic(n,{includeName:t})).join(t?", ":","):""}function Ic(e,{includeName:t}){return e.type.startsWith("tuple")?`(${rn(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class Sc extends N{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class xs extends N{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Ao extends N{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${rn(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Ft extends N{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Tc extends N{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class kc extends N{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${H(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Nc extends N{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Fc extends N{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class vs extends N{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Bo extends N{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Cc extends N{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class $o extends N{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Es extends N{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class ft extends N{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Io extends N{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Rc extends N{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Oc extends N{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${fe(t.abiItem)}\`, and`,`\`${n.type}\` in \`${fe(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let zc=class extends N{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Bt extends N{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${rn(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class sn extends N{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${fe(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Lc extends N{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Mc extends N{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let So=class extends N{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class _c extends N{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Uc extends N{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const jc=new TextEncoder;function yt(e,t={}){return typeof e=="number"||typeof e=="bigint"?Hc(e,t):typeof e=="boolean"?Gc(e,t):xe(e)?ve(e,t):qe(e,t)}function Gc(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Xe(n,{size:t.size}),pr(n,{size:t.size})):n}const Ee={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ps(e){if(e>=Ee.zero&&e<=Ee.nine)return e-Ee.zero;if(e>=Ee.A&&e<=Ee.F)return e-(Ee.A-10);if(e>=Ee.a&&e<=Ee.f)return e-(Ee.a-10)}function ve(e,t={}){let n=e;t.size&&(Xe(n,{size:t.size}),n=pr(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=Ps(r.charCodeAt(a++)),u=Ps(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new N(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function Hc(e,t){const n=M(e,t);return ve(n)}function qe(e,t={}){const n=jc.encode(e);return typeof t.size=="number"?(Xe(n,{size:t.size}),pr(n,{dir:"right",size:t.size})):n}const Zt=BigInt(2**32-1),As=BigInt(32);function Dc(e,t=!1){return t?{h:Number(e&Zt),l:Number(e>>As&Zt)}:{h:Number(e>>As&Zt)|0,l:Number(e&Zt)|0}}function qc(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=Dc(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const Vc=(e,t,n)=>e<<n|t>>>32-n,Zc=(e,t,n)=>t<<n|e>>>32-n,Wc=(e,t,n)=>t<<n-32|e>>>64-n,Kc=(e,t,n)=>e<<n-32|t>>>64-n,nt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Yc(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function $t(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ze(e,...t){if(!Yc(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Xc(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");$t(e.outputLen),$t(e.blockLen)}function dt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function To(e,t){Ze(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Jc(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function lt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function An(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ye(e,t){return e<<32-t|e>>>t}const Qc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function e0(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function t0(e){for(let t=0;t<e.length;t++)e[t]=e0(e[t]);return e}const Bs=Qc?e=>e:t0;function n0(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function on(e){return typeof e=="string"&&(e=n0(e)),Ze(e),e}function r0(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Ze(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class wr{}function ko(e){const t=r=>e().update(on(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function s0(e=32){if(nt&&typeof nt.getRandomValues=="function")return nt.getRandomValues(new Uint8Array(e));if(nt&&typeof nt.randomBytes=="function")return Uint8Array.from(nt.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const o0=BigInt(0),Pt=BigInt(1),i0=BigInt(2),a0=BigInt(7),c0=BigInt(256),u0=BigInt(113),No=[],Fo=[],Co=[];for(let e=0,t=Pt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],No.push(2*(5*r+n)),Fo.push((e+1)*(e+2)/2%64);let s=o0;for(let o=0;o<7;o++)t=(t<<Pt^(t>>a0)*u0)%c0,t&i0&&(s^=Pt<<(Pt<<BigInt(o))-Pt);Co.push(s)}const Ro=qc(Co,!0),f0=Ro[0],d0=Ro[1],$s=(e,t,n)=>n>32?Wc(e,t,n):Vc(e,t,n),Is=(e,t,n)=>n>32?Kc(e,t,n):Zc(e,t,n);function l0(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],d=$s(u,f,1)^n[a],l=Is(u,f,1)^n[a+1];for(let b=0;b<50;b+=10)e[i+b]^=d,e[i+b+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=Fo[i],c=$s(s,o,a),u=Is(s,o,a),f=No[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=f0[r],e[1]^=d0[r]}lt(n)}class xr extends wr{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,$t(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Jc(this.state)}clone(){return this._cloneInto()}keccak(){Bs(this.state32),l0(this.state32,this.rounds),Bs(this.state32),this.posOut=0,this.pos=0}update(t){dt(this),t=on(t),Ze(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){dt(this,!1),Ze(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return $t(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(To(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,lt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new xr(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const b0=(e,t,n)=>ko(()=>new xr(t,e,n)),Oo=b0(1,136,256/8);function V(e,t){const n=t||"hex",r=Oo(xe(e,{strict:!1})?yt(e):e);return n==="bytes"?r:Le(r)}const h0=e=>V(yt(e));function p0(e){return h0(e)}function y0(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new N("Unable to normalize signature.");return s}const m0=e=>{const t=typeof e=="string"?e:Xt(e);return y0(t)};function zo(e){return p0(m0(e))}const an=zo;let Me=class extends N{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};const Bn=new yr(8192);function cn(e,t){if(Bn.has(`${e}.${t}`))return Bn.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=V(qe(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return Bn.set(`${e}.${t}`,o),o}function Lo(e,t){if(!ce(e,{strict:!1}))throw new Me({address:e});return cn(e,t)}const g0=/^0x[a-fA-F0-9]{40}$/,$n=new yr(8192);function ce(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if($n.has(r))return $n.get(r);const s=g0.test(e)?e.toLowerCase()===e?!0:n?cn(e)===e:!0:!1;return $n.set(r,s),s}function de(e){return typeof e[0]=="string"?mt(e):w0(e)}function w0(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function mt(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function bt(e,t,n,{strict:r}={}){return xe(e,{strict:!1})?x0(e,t,n,{strict:r}):Uo(e,t,n,{strict:r})}function Mo(e,t){if(typeof t=="number"&&t>0&&t>H(e)-1)throw new io({offset:t,position:"start",size:H(e)})}function _o(e,t,n){if(typeof t=="number"&&typeof n=="number"&&H(e)!==n-t)throw new io({offset:n,position:"end",size:H(e)})}function Uo(e,t,n,{strict:r}={}){Mo(e,t);const s=e.slice(t,n);return r&&_o(s,t,n),s}function x0(e,t,n,{strict:r}={}){Mo(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&_o(s,t,n),s}const v0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,jo=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ue(e,t){if(e.length!==t.length)throw new Nc({expectedLength:e.length,givenLength:t.length});const n=E0({params:e,values:t}),r=Er(n);return r.length===0?"0x":r}function E0({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(vr({param:e[r],value:t[r]}));return n}function vr({param:e,value:t}){const n=Pr(e.type);if(n){const[r,s]=n;return A0(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return T0(t,{param:e});if(e.type==="address")return P0(t);if(e.type==="bool")return $0(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=jo.exec(e.type)??[];return I0(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return B0(t,{param:e});if(e.type==="string")return S0(t);throw new Lc(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Er(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=H(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(M(t+s,{size:32})),r.push(a),s+=H(a)):n.push(a)}return de([...n,...r])}function P0(e){if(!ce(e))throw new Me({address:e});return{dynamic:!1,encoded:De(e.toLowerCase())}}function A0(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new So(e);if(!r&&e.length!==t)throw new Tc({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=vr({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=Er(o);if(r){const a=M(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?de([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:de(o.map(({encoded:i})=>i))}}function B0(e,{param:t}){const[,n]=t.type.split("bytes"),r=H(e);if(!n){let s=e;return r%32!==0&&(s=De(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:de([De(M(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new kc({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:De(e,{dir:"right"})}}function $0(e){if(typeof e!="boolean")throw new N(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:De(Ia(e))}}function I0(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Sa({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:M(e,{size:32,signed:t})}}function S0(e){const t=Hn(e),n=Math.ceil(H(t)/32),r=[];for(let s=0;s<n;s++)r.push(De(bt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:de([De(M(H(t),{size:32})),...r])}}function T0(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=vr({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Er(r):de(r.map(({encoded:s})=>s))}}function Pr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Ct=e=>bt(zo(e),0,4);function Je(e){const{abi:t,args:n=[],name:r}=e,s=xe(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?Ct(a)===r:a.type==="event"?an(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?Xn(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=Go(a.inputs,i.inputs,n);if(u)throw new Oc({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Xn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ce(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Xn(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Xn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Go(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Go(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?ce(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?ce(n[r],{strict:!1}):!1)return i}}const Ss="/docs/contract/encodeEventTopics";function Rt(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Je({abi:t,name:n});if(!u)throw new Es(n,{docsPath:Ss});s=u}if(s.type!=="event")throw new Es(void 0,{docsPath:Ss});const o=fe(s),i=an(o);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(a=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((b,p)=>Ts({param:d,value:f[l][p]})):typeof f[l]<"u"&&f[l]!==null?Ts({param:d,value:f[l]}):null))??[])}return[i,...a]}function Ts({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return V(yt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Uc(e.type);return Ue([e],[t])}function un(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:a,transport:c})=>{a==="success"&&t===o&&(n[i]=c.request)})),o=>n[o]||e.request}async function Ho(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=un(e,{method:"eth_newFilter"}),f=o?Rt({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?M(i):i,toBlock:typeof c=="bigint"?M(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}function re(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const ks="/docs/contract/encodeFunctionData";function k0(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Je({abi:t,args:n,name:r});if(!o)throw new ft(r,{docsPath:ks});s=o}if(s.type!=="function")throw new ft(void 0,{docsPath:ks});return{abi:[s],functionName:Ct(fe(s))}}function pe(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:k0(e)})(),s=n[0],o=r,i="inputs"in s&&s.inputs?Ue(s.inputs,t??[]):void 0;return mt([o,i??"0x"])}const N0={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Do={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},F0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let Ns=class extends N{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},qo=class extends N{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},C0=class extends N{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const R0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new C0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new qo({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Ns({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Ns({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Ar(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(R0);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function O0(e,t={}){typeof t.size<"u"&&Xe(e,{size:t.size});const n=Z(e,t);return ke(n,t)}function z0(e,t={}){let n=e;if(typeof t.size<"u"&&(Xe(n,{size:t.size}),n=tn(n)),n.length>1||n[0]>1)throw new Ta(n);return!!n[0]}function Ie(e,t={}){typeof t.size<"u"&&Xe(e,{size:t.size});const n=Z(e,t);return Te(n,t)}function L0(e,t={}){let n=e;return typeof t.size<"u"&&(Xe(n,{size:t.size}),n=tn(n,{dir:"right"})),new TextDecoder().decode(n)}function Ot(e,t){const n=typeof t=="string"?ve(t):t,r=Ar(n);if(H(n)===0&&e.length>0)throw new Ft;if(H(t)&&H(t)<32)throw new Ao({data:typeof t=="string"?t:Z(t),params:e,size:H(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=at(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function at(e,t,{staticPosition:n}){const r=Pr(t.type);if(r){const[s,o]=r;return _0(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return H0(e,t,{staticPosition:n});if(t.type==="address")return M0(e);if(t.type==="bool")return U0(e);if(t.type.startsWith("bytes"))return j0(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return G0(e,t);if(t.type==="string")return D0(e,{staticPosition:n});throw new Mc(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Fs=32,Jn=32;function M0(e){const t=e.readBytes(32);return[cn(Z(Uo(t,-20))),32]}function _0(e,t,{length:n,staticPosition:r}){if(!n){const i=Ie(e.readBytes(Jn)),a=r+i,c=a+Fs;e.setPosition(a);const u=Ie(e.readBytes(Fs)),f=It(t);let d=0;const l=[];for(let b=0;b<u;++b){e.setPosition(c+(f?b*32:d));const[p,h]=at(e,t,{staticPosition:c});d+=h,l.push(p)}return e.setPosition(r+32),[l,32]}if(It(t)){const i=Ie(e.readBytes(Jn)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=at(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=at(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function U0(e){return[z0(e.readBytes(32),{size:32}),32]}function j0(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ie(e.readBytes(32));e.setPosition(n+i);const a=Ie(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Z(c),32]}return[Z(e.readBytes(Number.parseInt(s,10),32)),32]}function G0(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?O0(s,{signed:n}):Ie(s,{signed:n}),32]}function H0(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(It(t)){const i=Ie(e.readBytes(Jn)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,d]=at(e,u,{staticPosition:a});o+=d,s[r?c:u==null?void 0:u.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=at(e,a,{staticPosition:n});s[r?i:a==null?void 0:a.name]=c,o+=u}return[s,o]}function D0(e,{staticPosition:t}){const n=Ie(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ie(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=L0(tn(o));return e.setPosition(t+32),[i,32]}function It(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(It);const n=Pr(e.type);return!!(n&&It({...e,type:n[1]}))}function Vo(e){const{abi:t,data:n}=e,r=bt(n,0,4);if(r==="0x")throw new Ft;const o=[...t||[],Do,F0].find(i=>i.type==="error"&&r===Ct(fe(i)));if(!o)throw new Bo(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Ot(o.inputs,bt(n,4)):void 0,errorName:o.name}}function Zo({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?ae(t[o]):t[o]}`).join(", ")})`}function Br(e,t="wei"){return ka(e,Na[t])}class q0 extends N{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class V0 extends N{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Cs(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Z0(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Cs(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Cs(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function zt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class W0 extends N{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",zt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class K0 extends N{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var p;const b=zt({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${Br(l)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ge(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ge(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ge(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",b].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Wo extends N{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class Ko extends N{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Y0 extends N{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class X0 extends N{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class Yo extends N{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:b}){var v;const p=n?re(n):void 0;let h=zt({from:p==null?void 0:p.address,to:d,value:typeof l<"u"&&`${Br(l)} ${((v=s==null?void 0:s.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ge(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ge(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ge(u)} gwei`,nonce:f});b&&(h+=`
${Z0(b)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Xo extends N{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=Je({abi:n,args:r,name:i}),u=c?Zo({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?fe(c,{includeName:!0}):void 0,d=zt({address:s&&Fa(s),function:f,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class Qn extends N{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=Vo({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")c=l[0];else if(d==="Panic"){const[b]=l;c=N0[b]}else{const b=f?fe(f,{includeName:!0}):void 0,p=f&&l?Zo({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[b?`Error: ${b}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof Bo&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class J0 extends N{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Q0 extends N{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class fn extends N{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const eu=3;function ht(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof fn?e:e instanceof N?e.walk(p=>"data"in p)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,b=e instanceof Ft?new J0({functionName:o}):[eu,Ca.code].includes(c)&&(u||f||d||l)||c===mr.code&&f==="execution reverted"&&u?new Qn({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof Ra?f:l??d}):e;return new Xo(b,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function tu(e){const t=V(`0x${e.substring(4)}`).substring(26);return cn(`0x${t}`)}async function nu({hash:e,signature:t}){const n=xe(e)?e:Le(e),{secp256k1:r}=await fo(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>kl);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,b=Number(l??d),p=Rs(b);return new r.Signature(ke(u),ke(f)).addRecoveryBit(p)}const i=xe(t)?t:Le(t);if(H(i)!==65)throw new Error("invalid signature length");const a=Te(`0x${i.slice(130)}`),c=Rs(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Rs(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Jo({hash:e,signature:t}){return tu(await nu({hash:e,signature:t}))}function ru(e,t="hex"){const n=Qo(e),r=Ar(new Uint8Array(n.length));return n.encode(r),t==="hex"?Z(r.bytes):r.bytes}function Qo(e){return Array.isArray(e)?su(e.map(t=>Qo(t))):ou(e)}function su(e){const t=e.reduce((s,o)=>s+o.length,0),n=ei(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function ou(e){const t=typeof e=="string"?ve(e):e,n=ei(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function ei(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new N("Length is too large.")}function iu(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=V(mt(["0x05",ru([t?M(t):"0x",s,n?M(n):"0x"])]));return r==="bytes"?ve(o):o}async function ti(e){const{authorization:t,signature:n}=e;return Jo({hash:iu(t),signature:n??t})}class au extends N{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var p;const b=zt({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${Br(l)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ge(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ge(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ge(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function dn(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof N?e.walk(s=>(s==null?void 0:s.code)===Vt.code):e;return r instanceof N?new Vt({cause:e,message:r.details}):Vt.nodeMessage.test(n)?new Vt({cause:e,message:e.details}):Dn.nodeMessage.test(n)?new Dn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):ts.nodeMessage.test(n)?new ts({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):ns.nodeMessage.test(n)?new ns({cause:e,nonce:t==null?void 0:t.nonce}):rs.nodeMessage.test(n)?new rs({cause:e,nonce:t==null?void 0:t.nonce}):ss.nodeMessage.test(n)?new ss({cause:e,nonce:t==null?void 0:t.nonce}):os.nodeMessage.test(n)?new os({cause:e}):is.nodeMessage.test(n)?new is({cause:e,gas:t==null?void 0:t.gas}):as.nodeMessage.test(n)?new as({cause:e,gas:t==null?void 0:t.gas}):cs.nodeMessage.test(n)?new cs({cause:e}):qn.nodeMessage.test(n)?new qn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Nt({cause:e})}function cu(e,{docsPath:t,...n}){const r=(()=>{const s=dn(e,n);return s instanceof Nt?e:s})();return new au(r,{docsPath:t,...n})}function ln(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}const uu={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Lt(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=fu(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>Z(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=M(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=M(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=M(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=M(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=M(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=M(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=uu[e.type]),typeof e.value<"u"&&(n.value=M(e.value)),n}function fu(e){return e.map(t=>({address:t.address,r:t.r?M(BigInt(t.r)):t.r,s:t.s?M(BigInt(t.s)):t.s,chainId:M(t.chainId),nonce:M(t.nonce),...typeof t.yParity<"u"?{yParity:M(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:M(t.v)}:{}}))}function Os(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new us({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new us({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function du(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=M(t)),n!==void 0&&(i.nonce=M(n)),r!==void 0&&(i.state=Os(r)),s!==void 0){if(i.state)throw new V0;i.stateDiff=Os(s)}return i}function $r(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ce(n,{strict:!1}))throw new Me({address:n});if(t[n])throw new q0({address:n});t[n]=du(r)}return t}const lu=2n**256n-1n;function gt(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,o=t?re(t):void 0;if(o&&!ce(o.address))throw new Me({address:o.address});if(s&&!ce(s))throw new Me({address:s});if(n&&n>lu)throw new Dn({maxFeePerGas:n});if(r&&n&&r>n)throw new qn({maxFeePerGas:n,maxPriorityFeePerGas:r})}class ni extends N{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Ir extends N{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class bu extends N{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ge(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class ri extends N{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const si={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Sr(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Te(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Te(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?si[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=hu(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function hu(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function oi(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Sr(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function ue(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,d;const o=s??!1,i=n!==void 0?M(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new ri({blockHash:t,blockNumber:n});return(((d=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:d.format)||oi)(a,"getBlock")}async function Tr(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function pu(e,t){return ii(e,t)}async function ii(e,t){var o,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof a=="function"){const u=n||await L(e,ue,"getBlock")({}),f=await a({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return ke(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):L(e,ue,"getBlock")({}),L(e,Tr,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Ir;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function yu(e,t){return er(e,t)}async function er(e,t){var l,b;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var p,h;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((h=r==null?void 0:r.fees)==null?void 0:h.baseFeeMultiplier)??1.2})();if(i<1)throw new ni;const c=10**(((l=i.toString().split(".")[1])==null?void 0:l.length)??0),u=p=>p*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await L(e,ue,"getBlock")({});if(typeof((b=r==null?void 0:r.fees)==null?void 0:b.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(p!==null)return p}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Ir;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await ii(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??h+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await L(e,Tr,"getGasPrice")({}))}}async function ai(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?M(r):n]},{dedupe:!!r});return Te(s)}function ci(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>ve(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>Z(o))}function ui(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>ve(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>ve(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>Z(i))}function mu(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function gu(e,t,n){return e&t^~e&n}function wu(e,t,n){return e&t^e&n^t&n}class xu extends wr{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=An(this.buffer)}update(t){dt(this),t=on(t),Ze(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=An(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){dt(this),To(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,lt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;mu(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=An(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Oe=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vu=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ze=new Uint32Array(64);class Eu extends xu{constructor(t=32){super(64,t,8,!1),this.A=Oe[0]|0,this.B=Oe[1]|0,this.C=Oe[2]|0,this.D=Oe[3]|0,this.E=Oe[4]|0,this.F=Oe[5]|0,this.G=Oe[6]|0,this.H=Oe[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)ze[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=ze[d-15],b=ze[d-2],p=ye(l,7)^ye(l,18)^l>>>3,h=ye(b,17)^ye(b,19)^b>>>10;ze[d]=h+ze[d-7]+p+ze[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=ye(a,6)^ye(a,11)^ye(a,25),b=f+l+gu(a,c,u)+vu[d]+ze[d]|0,h=(ye(r,2)^ye(r,13)^ye(r,22))+wu(r,s,o)|0;f=u,u=c,c=a,a=i+b|0,i=o,o=s,s=r,r=b+h|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,a,c,u,f)}roundClean(){lt(ze)}destroy(){this.set(0,0,0,0,0,0,0,0),lt(this.buffer)}}const fi=ko(()=>new Eu),Pu=fi;function Au(e,t){return Pu(xe(e,{strict:!1})?yt(e):e)}function Bu(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Au(t);return s.set([n],0),r==="bytes"?s:Z(s)}function $u(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const o of t)s.push(Bu({commitment:o,to:r,version:n}));return s}const zs=6,di=32,kr=4096,li=di*kr,Ls=li*zs-1-1*kr*zs;class Iu extends N{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Su extends N{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Tu(e){const t=typeof e.data=="string"?ve(e.data):e.data,n=H(t);if(!n)throw new Su;if(n>Ls)throw new Iu({maxSize:Ls,size:n});const r=[];let s=!0,o=0;for(;s;){const i=Ar(new Uint8Array(li));let a=0;for(;a<kr;){const c=t.slice(o,o+(di-1));if(i.pushByte(0),i.pushBytes(c),c.length<31){i.pushByte(128),s=!1;break}a++,o+=31}r.push(i)}return r.map(i=>Z(i.bytes))}function ku(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Tu({data:t}),o=e.commitments??ci({blobs:s,kzg:n,to:r}),i=e.proofs??ui({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function Nu(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new W0({transaction:e})}function Fu(e,{docsPath:t,...n}){const r=(()=>{const s=dn(e,n);return s instanceof Nt?e:s})();return new K0(r,{docsPath:t,...n})}async function Nr(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Te(t)}async function bi(e,t){var P,T,O,S,F;const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:a,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:b,nonce:p,nonceManager:h,to:v,type:E,value:I,...g}=t,y=await(async()=>{if(!n||!h||typeof p<"u")return p;const k=re(n),j=o?o.id:await L(e,Nr,"getChainId")({});return await h.consume({address:k.address,chainId:j,client:e})})();gt(t);const w=(T=(P=o==null?void 0:o.formatters)==null?void 0:P.transactionRequest)==null?void 0:T.format,x=(w||Lt)({...ln(g,{format:w}),account:n?re(n):void 0,accessList:r,authorizationList:s,blobs:a,blobVersionedHashes:i,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:b,nonce:y,to:v,type:E,value:I},"fillTransaction");try{const k=await e.request({method:"eth_fillTransaction",params:[x]}),m=(((S=(O=o==null?void 0:o.formatters)==null?void 0:O.transaction)==null?void 0:S.format)||Sr)(k.tx);delete m.blockHash,delete m.blockNumber,delete m.r,delete m.s,delete m.transactionIndex,delete m.v,delete m.yParity,m.data=m.input,m.gas&&(m.gas=t.gas??m.gas),m.gasPrice&&(m.gasPrice=t.gasPrice??m.gasPrice),m.maxFeePerBlobGas&&(m.maxFeePerBlobGas=t.maxFeePerBlobGas??m.maxFeePerBlobGas),m.maxFeePerGas&&(m.maxFeePerGas=t.maxFeePerGas??m.maxFeePerGas),m.maxPriorityFeePerGas&&(m.maxPriorityFeePerGas=t.maxPriorityFeePerGas??m.maxPriorityFeePerGas),m.nonce&&(m.nonce=t.nonce??m.nonce);const $=await(async()=>{var z,_;if(typeof((z=o==null?void 0:o.fees)==null?void 0:z.baseFeeMultiplier)=="function"){const G=await L(e,ue,"getBlock")({});return o.fees.baseFeeMultiplier({block:G,client:e,request:t})}return((_=o==null?void 0:o.fees)==null?void 0:_.baseFeeMultiplier)??1.2})();if($<1)throw new ni;const A=10**(((F=$.toString().split(".")[1])==null?void 0:F.length)??0),C=z=>z*BigInt(Math.ceil($*A))/BigInt(A);return m.maxFeePerGas&&!t.maxFeePerGas&&(m.maxFeePerGas=C(m.maxFeePerGas)),m.gasPrice&&!t.gasPrice&&(m.gasPrice=C(m.gasPrice)),{raw:k.raw,transaction:{from:x.from,...m}}}catch(k){throw Fu(k,{...t,chain:e.chain})}}const Cu=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Ms=new Map,In=new yr(128);async function hi(e,t){var y,w,B;let n=t;const{account:r=e.account,chain:s=e.chain,nonceManager:o,parameters:i=Cu}=n,a=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof n.chainId<"u"?n.chainId:s?s.id:(c=await L(e,Nr,"getChainId")({}),c))}const f=r&&re(r);let d=n.nonce;if(i.includes("nonce")&&typeof d>"u"&&f&&o){const x=await u();d=await o.consume({address:f.address,chainId:x,client:e})}a!=null&&a.fn&&((y=a.runAt)!=null&&y.includes("beforeFillTransaction"))&&(n=await a.fn(n,{phase:"beforeFillTransaction"}),d??(d=n.nonce));const b=((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&n.kzg&&n.blobs||In.get(e.uid)===!1||!["fees","gas"].some(P=>i.includes(P))?!1:!!(i.includes("chainId")&&typeof n.chainId!="number"||i.includes("nonce")&&typeof d!="number"||i.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||i.includes("gas")&&typeof n.gas!="bigint"))?await L(e,bi,"fillTransaction")({...n,nonce:d}).then(x=>{const{chainId:P,from:T,gas:O,gasPrice:S,nonce:F,maxFeePerBlobGas:k,maxFeePerGas:j,maxPriorityFeePerGas:m,type:$,...R}=x.transaction;return In.set(e.uid,!0),{...n,...T?{from:T}:{},...$?{type:$}:{},...typeof P<"u"?{chainId:P}:{},...typeof O<"u"?{gas:O}:{},...typeof S<"u"?{gasPrice:S}:{},...typeof F<"u"?{nonce:F}:{},...typeof k<"u"?{maxFeePerBlobGas:k}:{},...typeof j<"u"?{maxFeePerGas:j}:{},...typeof m<"u"?{maxPriorityFeePerGas:m}:{},..."nonceKey"in R&&typeof R.nonceKey<"u"?{nonceKey:R.nonceKey}:{}}}).catch(x=>{var O;const P=x;return((O=P.walk)==null?void 0:O.call(P,S=>{const F=S;return F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"}))&&In.set(e.uid,!1),n}):n;d??(d=b.nonce),n={...b,...f?{from:f==null?void 0:f.address}:{},...d?{nonce:d}:{}};const{blobs:p,gas:h,kzg:v,type:E}=n;a!=null&&a.fn&&((w=a.runAt)!=null&&w.includes("beforeFillParameters"))&&(n=await a.fn(n,{phase:"beforeFillParameters"}));let I;async function g(){return I||(I=await L(e,ue,"getBlock")({blockTag:"latest"}),I)}if(i.includes("nonce")&&typeof d>"u"&&f&&!o&&(n.nonce=await L(e,ai,"getTransactionCount")({address:f.address,blockTag:"pending"})),(i.includes("blobVersionedHashes")||i.includes("sidecars"))&&p&&v){const x=ci({blobs:p,kzg:v});if(i.includes("blobVersionedHashes")){const P=$u({commitments:x,to:"hex"});n.blobVersionedHashes=P}if(i.includes("sidecars")){const P=ui({blobs:p,commitments:x,kzg:v}),T=ku({blobs:p,commitments:x,proofs:P,to:"hex"});n.sidecars=T}}if(i.includes("chainId")&&(n.chainId=await u()),(i.includes("fees")||i.includes("type"))&&typeof E>"u")try{n.type=Nu(n)}catch{let x=Ms.get(e.uid);if(typeof x>"u"){const P=await g();x=typeof(P==null?void 0:P.baseFeePerGas)=="bigint",Ms.set(e.uid,x)}n.type=x?"eip1559":"legacy"}if(i.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const x=await g(),{maxFeePerGas:P,maxPriorityFeePerGas:T}=await er(e,{block:x,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<T)throw new bu({maxPriorityFeePerGas:T});n.maxPriorityFeePerGas=T,n.maxFeePerGas=P}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new Ir;if(typeof n.gasPrice>"u"){const x=await g(),{gasPrice:P}=await er(e,{block:x,chain:s,request:n,type:"legacy"});n.gasPrice=P}}return i.includes("gas")&&typeof h>"u"&&(n.gas=await L(e,Fr,"estimateGas")({...n,account:f,prepare:(f==null?void 0:f.type)==="local"?[]:["blobVersionedHashes"]})),a!=null&&a.fn&&((B=a.runAt)!=null&&B.includes("afterFillParameters"))&&(n=await a.fn(n,{phase:"afterFillParameters"})),gt(n),delete n.parameters,n}async function Fr(e,t){var i,a,c;const{account:n=e.account,prepare:r=!0}=t,s=n?re(n):void 0,o=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await ti({authorization:t.authorizationList[0]}).catch(()=>{throw new N("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:f,authorizationList:d,blobs:l,blobVersionedHashes:b,blockNumber:p,blockTag:h,data:v,gas:E,gasPrice:I,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:w,nonce:B,value:x,stateOverride:P,...T}=r?await hi(e,{...t,parameters:o,to:u}):t;if(E&&t.gas!==E)return E;const S=(typeof p=="bigint"?M(p):void 0)||h,F=$r(P);gt(t);const k=(c=(a=(i=e.chain)==null?void 0:i.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,m=(k||Lt)({...ln(T,{format:k}),account:s,accessList:f,authorizationList:d,blobs:l,blobVersionedHashes:b,data:v,gasPrice:I,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:w,nonce:B,to:u,value:x},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:F?[m,S??e.experimental_blockTag??"latest",F]:S?[m,S]:[m]}))}catch(u){throw cu(u,{...t,account:s,chain:e.chain})}}async function Ru(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...a}=t,c=pe({abi:n,args:s,functionName:o});try{return await L(e,Fr,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?re(a.account):void 0;throw ht(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f==null?void 0:f.address})}}function Mt(e,t){if(!ce(e,{strict:!1}))throw new Me({address:e});if(!ce(t,{strict:!1}))throw new Me({address:t});return e.toLowerCase()===t.toLowerCase()}const _s="/docs/contract/decodeEventLog";function Cr(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new Cc({docsPath:_s});const c=t.find(h=>h.type==="event"&&i===an(fe(h)));if(!(c&&"name"in c)||c.type!=="event")throw new $o(i,{docsPath:_s});const{name:u,inputs:f}=c,d=f==null?void 0:f.some(h=>!("name"in h&&h.name)),l=d?[]:{},b=f.map((h,v)=>[h,v]).filter(([h])=>"indexed"in h&&h.indexed);for(let h=0;h<b.length;h++){const[v,E]=b[h],I=a[h];if(!I)throw new sn({abiItem:c,param:v});l[d?E:v.name||E]=Ou({param:v,value:I})}const p=f.filter(h=>!("indexed"in h&&h.indexed));if(p.length>0){if(n&&n!=="0x")try{const h=Ot(p,n);if(h)if(d)for(let v=0;v<f.length;v++)l[v]=l[v]??h.shift();else for(let v=0;v<p.length;v++)l[p[v].name]=h[v]}catch(h){if(o)throw h instanceof Ao||h instanceof qo?new Bt({abiItem:c,data:n,params:p,size:H(n)}):h}else if(o)throw new Bt({abiItem:c,data:"0x",params:p,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function Ou({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Ot([e],t)||[])[0]}function Rr(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{var a;try{const c=t.find(f=>f.type==="event"&&i.topics[0]===an(f));if(!c)return null;const u=Cr({...i,abi:[c],strict:s});return o&&!o.includes(u.eventName)||!zu({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...i}}catch(c){let u,f;if(c instanceof $o)return null;if(c instanceof Bt||c instanceof sn){if(s)return null;u=c.abiItem.name,f=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...i,args:f?[]:{},eventName:u}}}).filter(Boolean)}function zu(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?Mt(i,a):o.type==="string"||o.type==="bytes"?V(yt(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function Fe(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Or(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(h=>Rt({abi:[h],eventName:h.name,args:i?void 0:a}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?M(r):r,toBlock:typeof s=="bigint"?M(s):s}]});const b=l.map(p=>Fe(p));return f?Rr({abi:f,args:a,logs:b,strict:u}):b}async function pi(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?Je({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return L(e,Or,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}const Sn="/docs/contract/decodeFunctionResult";function Qe(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=Je({abi:t,args:n,name:r});if(!a)throw new ft(r,{docsPath:Sn});o=a}if(o.type!=="function")throw new ft(void 0,{docsPath:Sn});if(!o.outputs)throw new Io(o.name,{docsPath:Sn});const i=Ot(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zr=BigInt(0),tr=BigInt(1);function _t(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Lr(e){if(!_t(e))throw new Error("Uint8Array expected")}function St(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Wt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function yi(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?zr:BigInt("0x"+e)}const mi=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Lu=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Tt(e){if(Lr(e),mi)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Lu[e[n]];return t}const Pe={_0:48,_9:57,A:65,F:70,a:97,f:102};function Us(e){if(e>=Pe._0&&e<=Pe._9)return e-Pe._0;if(e>=Pe.A&&e<=Pe.F)return e-(Pe.A-10);if(e>=Pe.a&&e<=Pe.f)return e-(Pe.a-10)}function Jt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(mi)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=Us(e.charCodeAt(o)),a=Us(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function Ve(e){return yi(Tt(e))}function gi(e){return Lr(e),yi(Tt(Uint8Array.from(e).reverse()))}function Ut(e,t){return Jt(e.toString(16).padStart(t*2,"0"))}function wi(e,t){return Ut(e,t).reverse()}function ie(e,t,n){let r;if(typeof t=="string")try{r=Jt(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(_t(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Qt(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Lr(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const Tn=e=>typeof e=="bigint"&&zr<=e;function Mr(e,t,n){return Tn(e)&&Tn(t)&&Tn(n)&&t<=e&&e<n}function ct(e,t,n,r){if(!Mr(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Mu(e){let t;for(t=0;e>zr;e>>=tr,t+=1);return t}const bn=e=>(tr<<BigInt(e))-tr,kn=e=>new Uint8Array(e),js=e=>Uint8Array.from(e);function _u(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=kn(e),s=kn(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=kn(0))=>{s=a(js([0]),d),r=a(),d.length!==0&&(s=a(js([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const b=r.slice();l.push(b),d+=r.length}return Qt(...l)};return(d,l)=>{i(),c(d);let b;for(;!(b=l(u()));)c();return i(),b}}const Uu={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||_t(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function hn(e,t,n={}){const r=(s,o,i)=>{const a=Uu[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function Gs(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const ju="0.1.1";function Gu(){return ju}class U extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof U){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof U&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Gu()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return xi(this,t)}}function xi(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?xi(e.cause,t):t?null:e}function jt(e,t){if(ot(e)>t)throw new of({givenSize:ot(e),maxSize:t})}const Ae={zero:48,nine:57,A:65,F:70,a:97,f:102};function Hs(e){if(e>=Ae.zero&&e<=Ae.nine)return e-Ae.zero;if(e>=Ae.A&&e<=Ae.F)return e-(Ae.A-10);if(e>=Ae.a&&e<=Ae.f)return e-(Ae.a-10)}function Hu(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new af({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function vi(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function pn(e,t){if(se(e)>t)throw new bf({givenSize:se(e),maxSize:t})}function Du(e,t){if(typeof t=="number"&&t>0&&t>se(e)-1)throw new ki({offset:t,position:"start",size:se(e)})}function qu(e,t,n){if(typeof t=="number"&&typeof n=="number"&&se(e)!==n-t)throw new ki({offset:n,position:"end",size:se(e)})}function Ei(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new hf({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Vu="#__bigint";function Pi(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+Vu:s,n)}const Zu=new TextDecoder,Wu=new TextEncoder;function Ku(e){return e instanceof Uint8Array?e:typeof e=="string"?Ai(e):Yu(e)}function Yu(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Ai(e,t={}){const{size:n}=t;let r=e;n&&(pn(e,n),r=Ke(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=Hs(s.charCodeAt(c++)),f=Hs(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new U(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u*16+f}return i}function Xu(e,t={}){const{size:n}=t,r=Wu.encode(e);return typeof n=="number"?(jt(r,n),Ju(r,n)):r}function Ju(e,t){return Hu(e,{dir:"right",size:t})}function ot(e){return e.length}function Qu(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function ef(e,t={}){const{size:n}=t;typeof n<"u"&&jt(e,n);const r=be(e,t);return Ii(r,t)}function tf(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(jt(r,n),r=Bi(r)),r.length>1||r[0]>1)throw new sf(r);return!!r[0]}function Se(e,t={}){const{size:n}=t;typeof n<"u"&&jt(e,n);const r=be(e,t);return Si(r,t)}function nf(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(jt(r,n),r=rf(r)),Zu.decode(r)}function Bi(e){return vi(e,{dir:"left"})}function rf(e){return vi(e,{dir:"right"})}class sf extends U{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let of=class extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},af=class extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const cf=new TextEncoder,uf=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ff(e,t={}){const{strict:n=!1}=t;if(!e)throw new Ds(e);if(typeof e!="string")throw new Ds(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new qs(e);if(!e.startsWith("0x"))throw new qs(e)}function le(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function df(e){return e instanceof Uint8Array?be(e):Array.isArray(e)?be(new Uint8Array(e)):e}function $i(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(pn(n,t.size),We(n,t.size)):n}function be(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=uf[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(pn(r,t.size),Ke(r,t.size)):r}function X(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new Ti({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?We(c,r):c}function _r(e,t={}){return be(cf.encode(e),t)}function We(e,t){return Ei(e,{dir:"left",size:t})}function Ke(e,t){return Ei(e,{dir:"right",size:t})}function we(e,t,n,r={}){const{strict:s}=r;Du(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&qu(o,t,n),o}function se(e){return Math.ceil((e.length-2)/2)}function Ii(e,t={}){const{signed:n}=t;t.size&&pn(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function Si(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Ii(e,t))}function lf(e,t={}){const{strict:n=!1}=t;try{return ff(e,{strict:n}),!0}catch{return!1}}class Ti extends U{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Ds extends U{constructor(t){super(`Value \`${typeof t=="object"?Pi(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class qs extends U{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class bf extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class ki extends U{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class hf extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function pf(e){return{address:e.address,amount:X(e.amount),index:X(e.index),validatorIndex:X(e.validatorIndex)}}function Ni(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:X(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:X(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:X(e.gasLimit)},...typeof e.number=="bigint"&&{number:X(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:X(e.prevRandao)},...typeof e.time=="bigint"&&{time:X(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(pf)}}}const yf="0x82ad56cb",Fi="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",mf="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",gf="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Ur="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class nr extends N{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Ci extends N{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const Nn="/docs/contract/encodeDeployData";function jr(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new Sc({docsPath:Nn});if(!("inputs"in s))throw new xs({docsPath:Nn});if(!s.inputs||s.inputs.length===0)throw new xs({docsPath:Nn});const o=Ue(s.inputs,n);return mt([r,o])}function wt({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new nr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new nr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Ri(e,{docsPath:t,...n}){const r=(()=>{const s=dn(e,n);return s instanceof Nt?e:s})();return new Yo(r,{docsPath:t,...n})}async function Gt(e,t){var k,j,m,$;const{account:n=e.account,authorizationList:r,batch:s=!!((k=e.batch)!=null&&k.multicall),blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:b,gas:p,gasPrice:h,maxFeePerBlobGas:v,maxFeePerGas:E,maxPriorityFeePerGas:I,nonce:g,to:y,value:w,stateOverride:B,...x}=t,P=n?re(n):void 0;if(f&&(l||b))throw new N("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&y)throw new N("Cannot provide both `code` & `to` as parameters.");const T=f&&d,O=l&&b&&y&&d,S=T||O,F=T?Oi({code:f,data:d}):O?vf({data:d,factory:l,factoryData:b,to:y}):d;try{gt(t);const A=(typeof o=="bigint"?M(o):void 0)||i,C=u?Ni(u):void 0,z=$r(B),_=($=(m=(j=e.chain)==null?void 0:j.formatters)==null?void 0:m.transactionRequest)==null?void 0:$.format,K=(_||Lt)({...ln(x,{format:_}),accessList:a,account:P,authorizationList:r,blobs:c,data:F,gas:p,gasPrice:h,maxFeePerBlobGas:v,maxFeePerGas:E,maxPriorityFeePerGas:I,nonce:g,to:S?void 0:y,value:w},"call");if(s&&wf({request:K})&&!z&&!C)try{return await xf(e,{...K,blockNumber:o,blockTag:i})}catch(Y){if(!(Y instanceof Ci)&&!(Y instanceof nr))throw Y}const W=(()=>{const Y=[K,A];return z&&C?[...Y,z,C]:z?[...Y,z]:C?[...Y,{},C]:Y})(),D=await e.request({method:"eth_call",params:W});return D==="0x"?{data:void 0}:{data:D}}catch(R){const A=Ef(R),{offchainLookup:C,offchainLookupSignature:z}=await fo(async()=>{const{offchainLookup:_,offchainLookupSignature:G}=await Promise.resolve().then(()=>md);return{offchainLookup:_,offchainLookupSignature:G}},void 0);if(e.ccipRead!==!1&&(A==null?void 0:A.slice(0,10))===z&&y)return{data:await C(e,{data:A,to:y})};throw S&&(A==null?void 0:A.slice(0,10))==="0x101bb98d"?new Q0({factory:l}):Ri(R,{...t,account:P,chain:e.chain})}}function wf({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(yf)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function xf(e,t){var h;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((h=e.batch)==null?void 0:h.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return wt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Ci})(),d=(typeof o=="bigint"?M(o):void 0)||i,{schedule:l}=Oa({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(v){return v.reduce((I,{data:g})=>I+(g.length-2),0)>n*2},fn:async v=>{const E=v.map(y=>({allowFailure:!0,callData:y.data,target:y.to})),I=pe({abi:Yt,args:[E],functionName:"aggregate3"}),g=await e.request({method:"eth_call",params:[{...u===null?{data:Oi({code:Ur,data:I})}:{to:u,data:I}},d]});return Qe({abi:Yt,args:[E],functionName:"aggregate3",data:g||"0x"})}}),[{returnData:b,success:p}]=await l({data:a,to:c});if(!p)throw new fn({data:b});return b==="0x"?{data:void 0}:{data:b}}function Oi(e){const{code:t,data:n}=e;return jr({abi:Po(["constructor(bytes, bytes)"]),bytecode:Fi,args:[t,n]})}function vf(e){const{data:t,factory:n,factoryData:r,to:s}=e;return jr({abi:Po(["constructor(address, bytes, address, bytes)"]),bytecode:mf,args:[s,t,n,r]})}function Ef(e){var n;if(!(e instanceof N))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function he(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=pe({abi:n,args:s,functionName:o});try{const{data:c}=await L(e,Gt,"call")({...i,data:a,to:r});return Qe({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw ht(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function Pf(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?re(a.account):e.account,u=pe({abi:n,args:s,functionName:i});try{const{data:f}=await L(e,Gt,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),d=Qe({abi:n,args:s,functionName:i,data:f||"0x"}),l=n.filter(b=>"name"in b&&b.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(f){throw ht(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c==null?void 0:c.address})}}const Fn=new Map,Vs=new Map;let Af=0;function _e(e,t,n){const r=++Af,s=()=>Fn.get(e)||[],o=()=>{const f=s();Fn.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=Vs.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},a=s();if(Fn.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=(...d)=>{var b,p;const l=s();if(l.length!==0)for(const h of l)(p=(b=h.fns)[f])==null||p.call(b,...d)};const u=n(c);return typeof u=="function"&&Vs.set(e,u),i}function Ht(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await fs(c);const u=async()=>{s&&(await e({unpoll:o}),await fs(r),u())};u()})(),o}const Bf=new Map,$f=new Map;function If(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Bf),r=t(e,$f);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Sf(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=If(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const Tf=e=>`blockNumber.${e}`;async function Dt(e,{cacheTime:t=e.cacheTime}={}){const n=await Sf(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Tf(e.uid),cacheTime:t});return BigInt(n)}async function yn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Fe(o));return!("abi"in t)||!t.abi?s:Rr({abi:t.abi,logs:s,strict:n})}async function mn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function kf(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const v=l??!1,E=ae(["watchContractEvent",r,s,o,e.uid,i,d,v,a]);return _e(E,{onLogs:u,onError:c},I=>{let g;a!==void 0&&(g=a-1n);let y,w=!1;const B=Ht(async()=>{var x;if(!w){try{y=await L(e,Ho,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:v,fromBlock:a})}catch{}w=!0;return}try{let P;if(y)P=await L(e,yn,"getFilterChanges")({filter:y});else{const T=await L(e,Dt,"getBlockNumber")({});g&&g<T?P=await L(e,pi,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:g+1n,toBlock:T,strict:v}):P=[],g=T}if(P.length===0)return;if(o)I.onLogs(P);else for(const T of P)I.onLogs([T])}catch(P){y&&P instanceof mr&&(w=!1),(x=I.onError)==null||x.call(I,P)}},{emitOnBegin:!0,interval:d});return async()=>{y&&await L(e,mn,"uninstallFilter")({filter:y}),B()}})})():(()=>{const v=l??!1,E=ae(["watchContractEvent",r,s,o,e.uid,i,d,v]);let I=!0,g=()=>I=!1;return _e(E,{onLogs:u,onError:c},y=>((async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),B=i?Rt({abi:n,eventName:i,args:s}):[],{unsubscribe:x}=await w.subscribe({params:["logs",{address:r,topics:B}],onData(P){var O;if(!I)return;const T=P.result;try{const{eventName:S,args:F}=Cr({abi:n,data:T.data,topics:T.topics,strict:l}),k=Fe(T,{args:F,eventName:S});y.onLogs([k])}catch(S){let F,k;if(S instanceof Bt||S instanceof sn){if(l)return;F=S.abiItem.name,k=(O=S.abiItem.inputs)==null?void 0:O.some(m=>!("name"in m&&m.name))}const j=Fe(T,{args:k?[]:{},eventName:F});y.onLogs([j])}},onError(P){var T;(T=y.onError)==null||T.call(y,P)}});g=x,I||g()}catch(w){c==null||c(w)}})(),()=>g()))})()}async function Nf(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Ff={"0x0":"reverted","0x1":"success"};function zi(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Fe(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Te(e.transactionIndex):null,status:e.status?Ff[e.status]:null,type:e.type?si[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}function Cf(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:o="Base Client",type:i="base"}=e,a=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,l=e.account?re(e.account):void 0,{config:b,request:p,value:h}=e.transport({account:l,chain:n,pollingInterval:f}),v={...b,...h},E={account:l,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:o,pollingInterval:f,request:p,transport:v,type:i,uid:za(),...a?{experimental_blockTag:a}:{}};function I(g){return y=>{const w=y(g);for(const x in E)delete w[x];const B={...g,...w};return Object.assign(B,{extend:I(B)})}}return Object.assign(E,{extend:I(E)})}function Gr(e){var n,r,s,o,i,a;if(!(e instanceof N))return!1;const t=e.walk(c=>c instanceof Qn);return t instanceof Qn?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=t.data)==null?void 0:o.errorName)==="ResolverNotFound"||((i=t.data)==null?void 0:i.errorName)==="ReverseAddressMismatch"||((a=t.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function Rf(e){const{abi:t,data:n}=e,r=bt(n,0,4),s=t.find(o=>o.type==="function"&&r===Ct(fe(o)));if(!s)throw new Rc(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Ot(s.inputs,bt(n,4)):void 0}}const Cn="/docs/contract/encodeErrorResult";function Zs(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Je({abi:t,args:r,name:n});if(!c)throw new vs(n,{docsPath:Cn});s=c}if(s.type!=="error")throw new vs(void 0,{docsPath:Cn});const o=fe(s),i=Ct(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new Fc(s.name,{docsPath:Cn});a=Ue(s.inputs,r)}return mt([i,a])}const Rn="/docs/contract/encodeFunctionResult";function Of(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=Je({abi:t,name:n});if(!i)throw new ft(n,{docsPath:Rn});s=i}if(s.type!=="function")throw new ft(void 0,{docsPath:Rn});if(!s.outputs)throw new Io(s.name,{docsPath:Rn});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new So(r)})();return Ue(s.outputs,o)}const qt="x-batch-gateway:true";async function Li(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Rf({abi:Vn,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(qt)?await Li({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=zf(c)}})),Of({abi:Vn,functionName:"query",result:[s,o]})}function zf(e){return e.name==="HttpRequestError"&&e.status?Zs({abi:Vn,errorName:"HttpError",args:[e.status,e.shortMessage]}):Zs({abi:[Do],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Mi(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return xe(t)?t:null}function rr(e){let t=new Uint8Array(32).fill(0);if(!e)return Z(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Mi(n[r]),o=s?yt(s):V(qe(n[r]),"bytes");t=V(de([t,o]),"bytes")}return Z(t)}function Lf(e){return`[${e.slice(2)}]`}function Mf(e){const t=new Uint8Array(32).fill(0);return e?Mi(e)||V(qe(e)):Z(t)}function Hr(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(qe(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=qe(s[o]);i.byteLength>255&&(i=qe(Lf(Mf(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function _f(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return wt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[rr(o),BigInt(s)]:[rr(o)];try{const l=pe({abi:ds,functionName:"addr",args:d}),b={address:u,abi:ao,functionName:"resolveWithGateways",args:[Le(Hr(o)),l,i??[qt]],blockNumber:n,blockTag:r},h=await L(e,he,"readContract")(b);if(h[0]==="0x")return null;const v=Qe({abi:ds,args:d,functionName:"addr",data:h[0]});return v==="0x"||tn(v)==="0x00"?null:v}catch(l){if(a)throw l;if(Gr(l))return null;throw l}}class Uf extends N{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class At extends N{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Dr extends N{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class jf extends N{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Gf=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Hf=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Df=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,qf=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Vf(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ws(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function _i({uri:e,gatewayUrls:t}){const n=Df.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ws(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Ws(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Gf),{protocol:i,subpath:a,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||Hf.test(e);if(e.startsWith("http")&&!f&&!d){let b=e;return t!=null&&t.arweave&&(b=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(qf,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Dr({uri:e})}function Ui(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Uf({data:e});return e.image||e.image_url||e.image_data}async function Zf({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await qr({gatewayUrls:e,uri:Ui(n)})}catch{throw new Dr({uri:t})}}async function qr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=_i({uri:t,gatewayUrls:e});if(r||await Vf(n))return n;throw new Dr({uri:t})}function Wf(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new At({reason:"Only EIP-155 supported"});if(!i)throw new At({reason:"Chain ID not found"});if(!c)throw new At({reason:"Contract address not found"});if(!s)throw new At({reason:"Token ID not found"});if(!a)throw new At({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function Kf(e,{nft:t}){if(t.namespace==="erc721")return he(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return he(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new jf({namespace:t.namespace})}async function Yf(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Xf(e,{gatewayUrls:t,record:n}):qr({uri:n,gatewayUrls:t})}async function Xf(e,{gatewayUrls:t,record:n}){const r=Wf(n),s=await Kf(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=_i({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return qr({uri:Ui(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Zf({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function ji(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return wt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:ao,args:[Le(Hr(o)),pe({abi:ls,functionName:"text",args:[rr(o),s]}),i??[qt]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},b=await L(e,he,"readContract")(d);if(b[0]==="0x")return null;const p=Qe({abi:ls,functionName:"text",data:b[0]});return p===""?null:p}catch(d){if(a)throw d;if(Gr(d))return null;throw d}}async function Jf(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await L(e,ji,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await Yf(e,{record:c,gatewayUrls:r})}catch{return null}}async function Qf(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return wt({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:La,args:[n,o,i??[qt]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=L(e,he,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(Gr(f))return null;throw f}}async function ed(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return wt({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o==null?void 0:o.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await L(e,he,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Le(Hr(s))],blockNumber:n,blockTag:r});return c}async function Gi(e,t){var v,E,I;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b,...p}=t,h=n?re(n):void 0;try{gt(t);const y=(typeof r=="bigint"?M(r):void 0)||s,w=(I=(E=(v=e.chain)==null?void 0:v.formatters)==null?void 0:E.transactionRequest)==null?void 0:I.format,x=(w||Lt)({...ln(p,{format:w}),account:h,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b},"createAccessList"),P=await e.request({method:"eth_createAccessList",params:[x,y]});return{accessList:P.accessList,gasUsed:BigInt(P.gasUsed)}}catch(g){throw Ri(g,{...t,account:h,chain:e.chain})}}async function td(e){const t=un(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Hi(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=un(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(b=>Rt({abi:[b],eventName:b.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?M(o):o,toBlock:typeof a=="bigint"?M(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function Di(e){const t=un(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function nd(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?M(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function rd(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function sd(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?M(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Te(o)}async function sr(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?M(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class od extends N{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function id(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,d]=await L(e,he,"readContract")({abi:ad,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new od({address:n}):i}}const ad=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function cd(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function ud(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?M(n):void 0,i=await e.request({method:"eth_feeHistory",params:[M(t),o||r,s]},{dedupe:!!o});return cd(i)}async function fd(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Fe(o));return t.abi?Rr({abi:t.abi,logs:s,strict:n}):s}async function dd({address:e,authorization:t,signature:n}){return Mt(Lo(e),await ti({authorization:t,signature:n}))}class ld extends N{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){var a;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(c=>`    ${co(c)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class bd extends N{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${co(n)}`,`Response: ${ae(t)}`],name:"OffchainLookupResponseMalformedError"})}}class hd extends N{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const pd="0x556f1830",qi={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function yd(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=Vo({data:r,abi:[qi]}),[i,a,c,u,f]=o,{ccipRead:d}=e,l=d&&typeof(d==null?void 0:d.request)=="function"?d.request:Vi;try{if(!Mt(s,i))throw new hd({sender:i,to:s});const b=a.includes(qt)?await Li({data:c,ccipRequest:l}):await l({data:c,sender:i,urls:a}),{data:p}=await Gt(e,{blockNumber:t,blockTag:n,data:de([u,Ue([{type:"bytes"},{type:"bytes"}],[b,f])]),to:s});return p}catch(b){throw new ld({callbackSelector:u,cause:b,data:r,extraData:f,sender:i,urls:a})}}async function Vi({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let o=0;o<n.length;o++){const i=n[o],a=i.includes("{data}")?"GET":"POST",c=a==="POST"?{data:e,sender:t}:void 0,u=a==="POST"?{"Content-Type":"application/json"}:{};try{const f=await fetch(i.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(c),headers:u,method:a});let d;if((s=f.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?d=(await f.json()).data:d=await f.text(),!f.ok){r=new bs({body:c,details:d!=null&&d.error?ae(d.error):f.statusText,headers:f.headers,status:f.status,url:i});continue}if(!xe(d)){r=new bd({result:d,url:i});continue}return d}catch(f){r=new bs({body:c,details:f.message,url:i})}}throw r}const md=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Vi,offchainLookup:yd,offchainLookupAbiItem:qi,offchainLookupSignature:pd},Symbol.toStringTag,{value:"Module"}));function U1(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const gd=`Ethereum Signed Message:
`;function wd(e){const t=typeof e=="string"?Hn(e):typeof e.raw=="string"?e.raw:Z(e.raw),n=Hn(`${gd}${H(t)}`);return de([n,t])}function Zi(e,t){return V(wd(e),t)}class xd extends N{constructor({domain:t}){super(`Invalid domain "${ae(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class vd extends N{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Ed extends N{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Pd(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,d=a[u],l=f.match(jo);if(l&&(typeof d=="number"||typeof d=="bigint")){const[h,v,E]=l;M(d,{signed:v==="int",size:Number.parseInt(E,10)/8})}if(f==="address"&&typeof d=="string"&&!ce(d))throw new Me({address:d});const b=f.match(v0);if(b){const[h,v]=b;if(v&&H(d)!==Number.parseInt(v,10))throw new zc({expectedSize:Number.parseInt(v,10),givenSize:H(d)})}const p=s[f];p&&(Bd(f),o(p,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new xd({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new vd({primaryType:r,types:s})}function Ad({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Bd(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Ed({type:e})}function $d(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Ad({domain:t}),...e.types};Pd({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Id({domain:t,types:s})),r!=="EIP712Domain"&&o.push(Wi({data:n,primaryType:r,types:s})),V(de(o))}function Id({domain:e,types:t}){return Wi({data:e,primaryType:"EIP712Domain",types:t})}function Wi({data:e,primaryType:t,types:n}){const r=Ki({data:e,primaryType:t,types:n});return V(r)}function Ki({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Sd({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=Xi({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return Ue(r,s)}function Sd({primaryType:e,types:t}){const n=Le(Td({primaryType:e,types:t}));return V(n)}function Td({primaryType:e,types:t}){let n="";const r=Yi({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function Yi({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])Yi({primaryType:o.type,types:t},n);return n}function Xi({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},V(Ki({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},V(r)];if(n==="string")return[{type:"bytes32"},V(Le(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>Xi({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},V(Ue(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class kd extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Nd={checksum:new kd(8192)},On=Nd.checksum;function Ji(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Oo(Ku(e));return n==="Bytes"?r:be(r)}const Fd=/^0x[a-fA-F0-9]{40}$/;function gn(e,t={}){const{strict:n=!0}=t;if(!Fd.test(e))throw new Ks({address:e,cause:new Cd});if(n){if(e.toLowerCase()===e)return;if(Qi(e)!==e)throw new Ks({address:e,cause:new Rd})}}function Qi(e){if(On.has(e))return On.get(e);gn(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Ji(Xu(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return On.set(e,s),s}function or(e,t={}){const{strict:n=!0}=t??{};try{return gn(e,{strict:n}),!0}catch{return!1}}class Ks extends U{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Cd extends U{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Rd extends U{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Od=/^(.*)\[([0-9]*)\]$/,zd=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ea=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ys=2n**256n-1n;function ut(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=Wr(t.type);if(o){const[i,a]=o;return Md(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return Gd(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return Ld(e,{checksum:r});if(t.type==="bool")return _d(e);if(t.type.startsWith("bytes"))return Ud(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return jd(e,t);if(t.type==="string")return Hd(e,{staticPosition:s});throw new Yr(t.type)}const Xs=32,ir=32;function Ld(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?Qi(o):o)(be(Qu(r,-20))),32]}function Md(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=Se(e.readBytes(ir)),u=o+c,f=u+Xs;e.setPosition(u);const d=Se(e.readBytes(Xs)),l=kt(t);let b=0;const p=[];for(let h=0;h<d;++h){e.setPosition(f+(l?h*32:b));const[v,E]=ut(e,t,{checksumAddress:r,staticPosition:f});b+=E,p.push(v)}return e.setPosition(o+32),[p,32]}if(kt(t)){const c=Se(e.readBytes(ir)),u=o+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=ut(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,f]=ut(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,a.push(u)}return[a,i]}function _d(e){return[tf(e.readBytes(32),{size:32}),32]}function Ud(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Se(e.readBytes(32));e.setPosition(n+i);const a=Se(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[be(c),32]}return[be(e.readBytes(Number.parseInt(s,10),32)),32]}function jd(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?ef(s,{signed:n}):Se(s,{signed:n}),32]}function Gd(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(kt(t)){const c=Se(e.readBytes(ir)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,b]=ut(e,d,{checksumAddress:r,staticPosition:u});a+=b,i[o?f:d==null?void 0:d.name]=l}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=ut(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u==null?void 0:u.name]=f,a+=d}return[i,a]}function Hd(e,{staticPosition:t}){const n=Se(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Se(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=nf(Bi(o));return e.setPosition(t+32),[i,32]}function Dd({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Vr({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Vr({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Wr(r.type);if(s){const[o,i]=s;return Vd(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return Xd(n,{checksumAddress:e,parameter:r});if(r.type==="address")return qd(n,{checksum:e});if(r.type==="bool")return Wd(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=ea.exec(r.type)??[];return Kd(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return Zd(n,{type:r.type});if(r.type==="string")return Yd(n);throw new Yr(r.type)}function Zr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=se(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(X(t+s,{size:32})),r.push(a),s+=se(a)):n.push(a)}return le(...n,...r)}function qd(e,t){const{checksum:n=!1}=t;return gn(e,{strict:n}),{dynamic:!1,encoded:We(e.toLowerCase())}}function Vd(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new il(e);if(!o&&e.length!==r)throw new ol({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=Vr({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=Zr(a);if(o){const u=X(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?le(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:le(...a.map(({encoded:c})=>c))}}function Zd(e,{type:t}){const[,n]=t.split("bytes"),r=se(e);if(!n){let s=e;return r%32!==0&&(s=Ke(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:le(We(X(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new na({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ke(e)}}function Wd(e){if(typeof e!="boolean")throw new U(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:We($i(e))}}function Kd(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Ti({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:X(e,{size:32,signed:t})}}function Yd(e){const t=_r(e),n=Math.ceil(se(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ke(we(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:le(Ke(X(se(t),{size:32})),...r)}}function Xd(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=Vr({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Zr(o):le(...o.map(({encoded:i})=>i))}}function Wr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function kt(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(kt);const n=Wr(e.type);return!!(n&&kt({...e,type:n[1]}))}const Jd={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new tl({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new el({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Js({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Js({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Qd(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Jd);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Js extends U{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class el extends U{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class tl extends U{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function nl(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?Ai(t):t,i=Qd(o);if(ot(o)===0&&e.length>0)throw new sl;if(ot(o)&&ot(o)<32)throw new rl({data:typeof t=="string"?t:be(t),parameters:e,size:ot(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(a);const[d,l]=ut(i,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function Kr(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new ra({expectedLength:e.length,givenLength:t.length});const s=Dd({checksumAddress:r,parameters:e,values:t}),o=Zr(s);return o.length===0?"0x":o}function ar(e,t){if(e.length!==t.length)throw new ra({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(ar.encode(s,o))}return le(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return gn(c),We(c.toLowerCase(),s?32:0)}if(n==="string")return _r(r);if(n==="bytes")return r;if(n==="bool")return We($i(r),s?32:1);const o=n.match(ea);if(o){const[c,u,f="256"]=o,d=Number.parseInt(f,10)/8;return X(r,{size:s?32:d,signed:u==="int"})}const i=n.match(zd);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new na({expectedSize:Number.parseInt(u,10),value:r});return Ke(r,s?32:0)}const a=n.match(Od);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":le(...f)}throw new Yr(n)}e.encode=t})(ar||(ar={}));function ta(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?ws(e):e}class rl extends U{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${st(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class sl extends U{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class ol extends U{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class na extends U{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${se(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class ra extends U{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class il extends U{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Yr extends U{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class sa extends wr{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Xc(t);const r=on(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),lt(o)}update(t){return dt(this),this.iHash.update(t),this}digestInto(t){dt(this),Ze(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const oa=(e,t,n)=>new sa(e,t).update(n).digest();oa.create=(e,t)=>new sa(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ee=BigInt(0),J=BigInt(1),He=BigInt(2),al=BigInt(3),ia=BigInt(4),aa=BigInt(5),ca=BigInt(8);function Q(e,t){const n=e%t;return n>=ee?n:t+n}function oe(e,t,n){let r=e;for(;t-- >ee;)r*=r,r%=n;return r}function cr(e,t){if(e===ee)throw new Error("invert: expected non-zero number");if(t<=ee)throw new Error("invert: expected positive modulus, got "+t);let n=Q(e,t),r=t,s=ee,o=J;for(;n!==ee;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==J)throw new Error("invert: does not exist");return Q(s,t)}function ua(e,t){const n=(e.ORDER+J)/ia,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function cl(e,t){const n=(e.ORDER-aa)/ca,r=e.mul(t,He),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,He),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function ul(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-J,n=0;for(;t%He===ee;)t/=He,n++;let r=He;const s=Xr(e);for(;Qs(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return ua;let o=s.pow(r,t);const i=(t+J)/He;return function(c,u){if(c.is0(u))return u;if(Qs(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,o),l=c.pow(u,t),b=c.pow(u,i);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let p=1,h=c.sqr(l);for(;!c.eql(h,c.ONE);)if(p++,h=c.sqr(h),p===f)throw new Error("Cannot find square root");const v=J<<BigInt(f-p-1),E=c.pow(d,v);f=p,d=c.sqr(E),l=c.mul(l,d),b=c.mul(b,E)}return b}}function fl(e){return e%ia===al?ua:e%ca===aa?cl:ul(e)}const dl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ll(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=dl.reduce((r,s)=>(r[s]="function",r),t);return hn(e,n)}function bl(e,t,n){if(n<ee)throw new Error("invalid exponent, negatives unsupported");if(n===ee)return e.ONE;if(n===J)return t;let r=e.ONE,s=t;for(;n>ee;)n&J&&(r=e.mul(r,s)),s=e.sqr(s),n>>=J;return r}function fa(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function Qs(e,t){const n=(e.ORDER-J)/He,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function da(e,t){t!==void 0&&$t(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Xr(e,t,n=!1,r={}){if(e<=ee)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=da(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:bn(s),ZERO:ee,ONE:J,create:c=>Q(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ee<=c&&c<e},is0:c=>c===ee,isOdd:c=>(c&J)===J,neg:c=>Q(-c,e),eql:(c,u)=>c===u,sqr:c=>Q(c*c,e),add:(c,u)=>Q(c+u,e),sub:(c,u)=>Q(c-u,e),mul:(c,u)=>Q(c*u,e),pow:(c,u)=>bl(a,c,u),div:(c,u)=>Q(c*cr(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>cr(c,e),sqrt:r.sqrt||(c=>(i||(i=fl(e)),i(a,c))),toBytes:c=>n?wi(c,o):Ut(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?gi(c):Ve(c)},invertBatch:c=>fa(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function la(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ba(e){const t=la(e);return t+Math.ceil(t/2)}function hl(e,t,n=!1){const r=e.length,s=la(t),o=ba(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?gi(e):Ve(e),a=Q(i,t-J)+J;return n?wi(a,s):Ut(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eo=BigInt(0),ur=BigInt(1);function zn(e,t){const n=t.negate();return e?n:t}function ha(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ln(e,t){ha(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=bn(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function to(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=ur);const u=t*r,f=u+Math.abs(a)-1,d=a===0,l=a<0,b=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:b,offsetF:u}}function pl(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function yl(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Mn=new WeakMap,pa=new WeakMap;function _n(e){return pa.get(e)||1}function ml(e,t){return{constTimeNegate:zn,hasPrecomputes(n){return _n(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>eo;)r&ur&&(s=s.add(o)),o=o.double(),r>>=ur;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=Ln(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let f=1;f<o;f++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=Ln(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:b,offsetF:p}=to(s,c,a);s=u,d?i=i.add(zn(b,r[p])):o=o.add(zn(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=Ln(n,t);for(let a=0;a<i.windows&&s!==eo;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=to(s,a,i);if(s=c,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=Mn.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&Mn.set(r,s(o))),o},wNAFCached(n,r,s){const o=_n(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=_n(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){ha(r,t),pa.set(n,r),Mn.delete(n)}}}function gl(e,t,n,r){pl(n,e),yl(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=Mu(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=bn(c),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c;let l=i;for(let b=d;b>=0;b-=c){f.fill(i);for(let h=0;h<o;h++){const v=r[h],E=Number(v>>BigInt(b)&u);f[E]=f[E].add(n[h])}let p=i;for(let h=f.length-1,v=i;h>0;h--)v=v.add(f[h]),p=p.add(v);if(l=l.add(p),b!==0)for(let h=0;h<c;h++)l=l.double()}return l}function ya(e){return ll(e.Fp),hn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...da(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function no(e){e.lowS!==void 0&&St("lowS",e.lowS),e.prehash!==void 0&&St("prehash",e.prehash)}function wl(e){const t=ya(e);hn(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class xl extends Error{constructor(t=""){super(t)}}const Be={Err:xl,_tlv:{encode:(e,t)=>{const{Err:n}=Be;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Wt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Wt(s.length/2|128):"";return Wt(e)+o+s+t},decode(e,t){const{Err:n}=Be;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Be;if(e<$e)throw new t("integer: negative integers are not allowed");let n=Wt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Be;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Ve(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Be,s=ie("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Be,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function Un(e,t){return Tt(Ut(e,t))}const $e=BigInt(0),q=BigInt(1);BigInt(2);const jn=BigInt(3),vl=BigInt(4);function El(e){const t=wl(e),{Fp:n}=t,r=Xr(t.n,t.nBitLength),s=t.toBytes||((g,y,w)=>{const B=y.toAffine();return Qt(Uint8Array.from([4]),n.toBytes(B.x),n.toBytes(B.y))}),o=t.fromBytes||(g=>{const y=g.subarray(1),w=n.fromBytes(y.subarray(0,n.BYTES)),B=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:w,y:B}});function i(g){const{a:y,b:w}=t,B=n.sqr(g),x=n.mul(B,g);return n.add(n.add(x,n.mul(g,y)),w)}function a(g,y){const w=n.sqr(y),B=i(g);return n.eql(w,B)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,jn),vl),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(g){return Mr(g,q,t.n)}function d(g){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:B,n:x}=t;if(y&&typeof g!="bigint"){if(_t(g)&&(g=Tt(g)),typeof g!="string"||!y.includes(g.length))throw new Error("invalid private key");g=g.padStart(w*2,"0")}let P;try{P=typeof g=="bigint"?g:Ve(ie("private key",g,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof g)}return B&&(P=Q(P,x)),ct("private key",P,q,x),P}function l(g){if(!(g instanceof h))throw new Error("ProjectivePoint expected")}const b=Gs((g,y)=>{const{px:w,py:B,pz:x}=g;if(n.eql(x,n.ONE))return{x:w,y:B};const P=g.is0();y==null&&(y=P?n.ONE:n.inv(x));const T=n.mul(w,y),O=n.mul(B,y),S=n.mul(x,y);if(P)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:T,y:O}}),p=Gs(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=g.toAffine();if(!n.isValid(y)||!n.isValid(w))throw new Error("bad point: x or y not FE");if(!a(y,w))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(y,w,B){if(y==null||!n.isValid(y))throw new Error("x required");if(w==null||!n.isValid(w)||n.is0(w))throw new Error("y required");if(B==null||!n.isValid(B))throw new Error("z required");this.px=y,this.py=w,this.pz=B,Object.freeze(this)}static fromAffine(y){const{x:w,y:B}=y||{};if(!y||!n.isValid(w)||!n.isValid(B))throw new Error("invalid affine point");if(y instanceof h)throw new Error("projective point not allowed");const x=P=>n.eql(P,n.ZERO);return x(w)&&x(B)?h.ZERO:new h(w,B,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=fa(n,y.map(B=>B.pz));return y.map((B,x)=>B.toAffine(w[x])).map(h.fromAffine)}static fromHex(y){const w=h.fromAffine(o(ie("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return h.BASE.multiply(d(y))}static msm(y,w){return gl(h,r,y,w)}_setWindowSize(y){I.setWindowSize(this,y)}assertValidity(){p(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);const{px:w,py:B,pz:x}=this,{px:P,py:T,pz:O}=y,S=n.eql(n.mul(w,O),n.mul(P,x)),F=n.eql(n.mul(B,O),n.mul(T,x));return S&&F}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:w}=t,B=n.mul(w,jn),{px:x,py:P,pz:T}=this;let O=n.ZERO,S=n.ZERO,F=n.ZERO,k=n.mul(x,x),j=n.mul(P,P),m=n.mul(T,T),$=n.mul(x,P);return $=n.add($,$),F=n.mul(x,T),F=n.add(F,F),O=n.mul(y,F),S=n.mul(B,m),S=n.add(O,S),O=n.sub(j,S),S=n.add(j,S),S=n.mul(O,S),O=n.mul($,O),F=n.mul(B,F),m=n.mul(y,m),$=n.sub(k,m),$=n.mul(y,$),$=n.add($,F),F=n.add(k,k),k=n.add(F,k),k=n.add(k,m),k=n.mul(k,$),S=n.add(S,k),m=n.mul(P,T),m=n.add(m,m),k=n.mul(m,$),O=n.sub(O,k),F=n.mul(m,j),F=n.add(F,F),F=n.add(F,F),new h(O,S,F)}add(y){l(y);const{px:w,py:B,pz:x}=this,{px:P,py:T,pz:O}=y;let S=n.ZERO,F=n.ZERO,k=n.ZERO;const j=t.a,m=n.mul(t.b,jn);let $=n.mul(w,P),R=n.mul(B,T),A=n.mul(x,O),C=n.add(w,B),z=n.add(P,T);C=n.mul(C,z),z=n.add($,R),C=n.sub(C,z),z=n.add(w,x);let _=n.add(P,O);return z=n.mul(z,_),_=n.add($,A),z=n.sub(z,_),_=n.add(B,x),S=n.add(T,O),_=n.mul(_,S),S=n.add(R,A),_=n.sub(_,S),k=n.mul(j,z),S=n.mul(m,A),k=n.add(S,k),S=n.sub(R,k),k=n.add(R,k),F=n.mul(S,k),R=n.add($,$),R=n.add(R,$),A=n.mul(j,A),z=n.mul(m,z),R=n.add(R,A),A=n.sub($,A),A=n.mul(j,A),z=n.add(z,A),$=n.mul(R,z),F=n.add(F,$),$=n.mul(_,z),S=n.mul(C,S),S=n.sub(S,$),$=n.mul(C,R),k=n.mul(_,k),k=n.add(k,$),new h(S,F,k)}subtract(y){return this.add(y.negate())}is0(){return this.equals(h.ZERO)}wNAF(y){return I.wNAFCached(this,y,h.normalizeZ)}multiplyUnsafe(y){const{endo:w,n:B}=t;ct("scalar",y,$e,B);const x=h.ZERO;if(y===$e)return x;if(this.is0()||y===q)return this;if(!w||I.hasPrecomputes(this))return I.wNAFCachedUnsafe(this,y,h.normalizeZ);let{k1neg:P,k1:T,k2neg:O,k2:S}=w.splitScalar(y),F=x,k=x,j=this;for(;T>$e||S>$e;)T&q&&(F=F.add(j)),S&q&&(k=k.add(j)),j=j.double(),T>>=q,S>>=q;return P&&(F=F.negate()),O&&(k=k.negate()),k=new h(n.mul(k.px,w.beta),k.py,k.pz),F.add(k)}multiply(y){const{endo:w,n:B}=t;ct("scalar",y,q,B);let x,P;if(w){const{k1neg:T,k1:O,k2neg:S,k2:F}=w.splitScalar(y);let{p:k,f:j}=this.wNAF(O),{p:m,f:$}=this.wNAF(F);k=I.constTimeNegate(T,k),m=I.constTimeNegate(S,m),m=new h(n.mul(m.px,w.beta),m.py,m.pz),x=k.add(m),P=j.add($)}else{const{p:T,f:O}=this.wNAF(y);x=T,P=O}return h.normalizeZ([x,P])[0]}multiplyAndAddUnsafe(y,w,B){const x=h.BASE,P=(O,S)=>S===$e||S===q||!O.equals(x)?O.multiplyUnsafe(S):O.multiply(S),T=P(this,w).add(P(y,B));return T.is0()?void 0:T}toAffine(y){return b(this,y)}isTorsionFree(){const{h:y,isTorsionFree:w}=t;if(y===q)return!0;if(w)return w(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=t;return y===q?this:w?w(h,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return St("isCompressed",y),this.assertValidity(),s(h,this,y)}toHex(y=!0){return St("isCompressed",y),Tt(this.toRawBytes(y))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const{endo:v,nBitLength:E}=t,I=ml(h,v?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function Pl(e){const t=ya(e);return hn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Al(e){const t=Pl(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(m){return Q(m,r)}function u(m){return cr(m,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:b}=El({...t,toBytes(m,$,R){const A=$.toAffine(),C=n.toBytes(A.x),z=Qt;return St("isCompressed",R),R?z(Uint8Array.from([$.hasEvenY()?2:3]),C):z(Uint8Array.from([4]),C,n.toBytes(A.y))},fromBytes(m){const $=m.length,R=m[0],A=m.subarray(1);if($===i&&(R===2||R===3)){const C=Ve(A);if(!Mr(C,q,n.ORDER))throw new Error("Point is not on curve");const z=l(C);let _;try{_=n.sqrt(z)}catch(W){const D=W instanceof Error?": "+W.message:"";throw new Error("Point is not on curve"+D)}const G=(_&q)===q;return(R&1)===1!==G&&(_=n.neg(_)),{x:C,y:_}}else if($===a&&R===4){const C=n.fromBytes(A.subarray(0,n.BYTES)),z=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:C,y:z}}else{const C=i,z=a;throw new Error("invalid Point, expected length of "+C+", or uncompressed "+z+", got "+$)}}});function p(m){const $=r>>q;return m>$}function h(m){return p(m)?c(-m):m}const v=(m,$,R)=>Ve(m.slice($,R));class E{constructor($,R,A){ct("r",$,q,r),ct("s",R,q,r),this.r=$,this.s=R,A!=null&&(this.recovery=A),Object.freeze(this)}static fromCompact($){const R=s;return $=ie("compactSignature",$,R*2),new E(v($,0,R),v($,R,2*R))}static fromDER($){const{r:R,s:A}=Be.toSig(ie("DER",$));return new E(R,A)}assertValidity(){}addRecoveryBit($){return new E(this.r,this.s,$)}recoverPublicKey($){const{r:R,s:A,recovery:C}=this,z=x(ie("msgHash",$));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const _=C===2||C===3?R+t.n:R;if(_>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=C&1?"03":"02",K=f.fromHex(G+Un(_,n.BYTES)),W=u(_),D=c(-z*W),Y=c(A*W),Re=f.BASE.multiplyAndAddUnsafe(K,D,Y);if(!Re)throw new Error("point at infinify");return Re.assertValidity(),Re}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Jt(this.toDERHex())}toDERHex(){return Be.hexFromSig(this)}toCompactRawBytes(){return Jt(this.toCompactHex())}toCompactHex(){const $=s;return Un(this.r,$)+Un(this.s,$)}}const I={isValidPrivateKey(m){try{return d(m),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const m=ba(t.n);return hl(t.randomBytes(m),t.n)},precompute(m=8,$=f.BASE){return $._setWindowSize(m),$.multiply(BigInt(3)),$}};function g(m,$=!0){return f.fromPrivateKey(m).toRawBytes($)}function y(m){if(typeof m=="bigint")return!1;if(m instanceof f)return!0;const R=ie("key",m).length,A=n.BYTES,C=A+1,z=2*A+1;if(!(t.allowedPrivateKeyLengths||s===C))return R===C||R===z}function w(m,$,R=!0){if(y(m)===!0)throw new Error("first arg must be private key");if(y($)===!1)throw new Error("second arg must be public key");return f.fromHex($).multiply(d(m)).toRawBytes(R)}const B=t.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const $=Ve(m),R=m.length*8-o;return R>0?$>>BigInt(R):$},x=t.bits2int_modN||function(m){return c(B(m))},P=bn(o);function T(m){return ct("num < 2^"+o,m,$e,P),Ut(m,s)}function O(m,$,R=S){if(["recovered","canonical"].some(je=>je in R))throw new Error("sign() legacy options not supported");const{hash:A,randomBytes:C}=t;let{lowS:z,prehash:_,extraEntropy:G}=R;z==null&&(z=!0),m=ie("msgHash",m),no(R),_&&(m=ie("prehashed msgHash",A(m)));const K=x(m),W=d($),D=[T(W),T(K)];if(G!=null&&G!==!1){const je=G===!0?C(n.BYTES):G;D.push(ie("extraEntropy",je))}const Y=Qt(...D),Re=K;function vn(je){const et=B(je);if(!b(et))return;const En=u(et),xt=f.BASE.multiply(et).toAffine(),Ge=c(xt.x);if(Ge===$e)return;const vt=c(En*c(Re+Ge*W));if(vt===$e)return;let Et=(xt.x===Ge?0:2)|Number(xt.y&q),tt=vt;return z&&p(vt)&&(tt=h(vt),Et^=1),new E(Ge,tt,Et)}return{seed:Y,k2sig:vn}}const S={lowS:t.lowS,prehash:!1},F={lowS:t.lowS,prehash:!1};function k(m,$,R=S){const{seed:A,k2sig:C}=O(m,$,R),z=t;return _u(z.hash.outputLen,z.nByteLength,z.hmac)(A,C)}f.BASE._setWindowSize(8);function j(m,$,R,A=F){var Et;const C=m;$=ie("msgHash",$),R=ie("publicKey",R);const{lowS:z,prehash:_,format:G}=A;if(no(A),"strict"in A)throw new Error("options.strict was renamed to lowS");if(G!==void 0&&G!=="compact"&&G!=="der")throw new Error("format must be compact or der");const K=typeof C=="string"||_t(C),W=!K&&!G&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!K&&!W)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let D,Y;try{if(W&&(D=new E(C.r,C.s)),K){try{G!=="compact"&&(D=E.fromDER(C))}catch(tt){if(!(tt instanceof Be.Err))throw tt}!D&&G!=="der"&&(D=E.fromCompact(C))}Y=f.fromHex(R)}catch{return!1}if(!D||z&&D.hasHighS())return!1;_&&($=t.hash($));const{r:Re,s:vn}=D,je=x($),et=u(vn),En=c(je*et),xt=c(Re*et),Ge=(Et=f.BASE.multiplyAndAddUnsafe(Y,En,xt))==null?void 0:Et.toAffine();return Ge?c(Ge.x)===Re:!1}return{CURVE:t,getPublicKey:g,getSharedSecret:w,sign:k,verify:j,ProjectivePoint:f,Signature:E,utils:I}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Bl(e){return{hash:e,hmac:(t,...n)=>oa(e,t,r0(...n)),randomBytes:s0}}function $l(e,t){const n=r=>Al({...e,...Bl(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ma=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ro=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Il=BigInt(0),Sl=BigInt(1),fr=BigInt(2),so=(e,t)=>(e+t/fr)/t;function Tl(e){const t=ma,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=oe(f,n,t)*f%t,l=oe(d,n,t)*f%t,b=oe(l,fr,t)*u%t,p=oe(b,s,t)*b%t,h=oe(p,o,t)*p%t,v=oe(h,a,t)*h%t,E=oe(v,c,t)*v%t,I=oe(E,a,t)*h%t,g=oe(I,n,t)*f%t,y=oe(g,i,t)*p%t,w=oe(y,r,t)*u%t,B=oe(w,fr,t);if(!dr.eql(dr.sqr(B),e))throw new Error("Cannot find square root");return B}const dr=Xr(ma,void 0,void 0,{sqrt:Tl}),ga=$l({a:Il,b:BigInt(7),Fp:dr,n:ro,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ro,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Sl*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=so(o*e,t),c=so(-r*e,t);let u=Q(e-a*n-c*s,t),f=Q(-a*r-c*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},fi),kl=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:ga},Symbol.toStringTag,{value:"Module"}));function wa(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Gn({signature:e});if(typeof e.s>"u")throw new Gn({signature:e});if(n&&typeof e.yParity>"u")throw new Gn({signature:e});if(e.r<0n||e.r>Ys)throw new Ll({value:e.r});if(e.s<0n||e.s>Ys)throw new Ml({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Qr({value:e.yParity})}function Nl(e){return xa(be(e))}function xa(e){if(e.length!==130&&e.length!==132)throw new zl({signature:e});const t=BigInt(we(e,0,32)),n=BigInt(we(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Jr(s)}catch{throw new Qr({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Fl(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Cl(e)}function Cl(e){const t=typeof e=="string"?xa(e):e instanceof Uint8Array?Nl(e):typeof e.r=="string"?Ol(e):e.v?Rl(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return wa(t),t}function Rl(e){return{r:e.r,s:e.s,yParity:Jr(e.v)}}function Ol(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Jr(n)),typeof r!="number")throw new Qr({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Jr(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new _l({value:e})}class zl extends U{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${se(df(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Gn extends U{constructor({signature:t}){super(`Signature \`${Pi(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Ll extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Ml extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Qr extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class _l extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Ul(e,t={}){return typeof e.chainId=="string"?jl(e):{...e,...t.signature}}function jl(e){const{address:t,chainId:n,nonce:r}=e,s=Fl(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const Gl="0x8010801080108010801080108010801080108010801080108010801080108010",Hl=ta("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function va(e){if(typeof e=="string"){if(we(e,-32)!==Gl)throw new Vl(e)}else wa(e.authorization)}function Dl(e){va(e);const t=Si(we(e,-64,-32)),n=we(e,-t-64,-64),r=we(e,0,-t-64),[s,o,i]=nl(Hl,n);return{authorization:Ul({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function ql(e){try{return va(e),!0}catch{return!1}}let Vl=class extends U{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function Zl(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Wl(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Te(e.nonce):void 0,storageProof:e.storageProof?Zl(e.storageProof):void 0}}async function Kl(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?M(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return Wl(a)}async function Yl(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?M(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function es(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:a}){var l,b,p;const c=r||"latest",u=n!==void 0?M(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,M(o)]},{dedupe:!0}):typeof o=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,M(o)]},{dedupe:!!u}):i&&typeof a=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,M(a)]},{dedupe:!0})),!f)throw new Wo({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:o});return(((p=(b=(l=e.chain)==null?void 0:l.formatters)==null?void 0:b.transaction)==null?void 0:p.format)||Sr)(f,"getTransaction")}async function Xl(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([L(e,Dt,"getBlockNumber")({}),t?L(e,es,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function Kt(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Ko({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||zi)(n,"getTransactionReceipt")}async function Jl(e,t){var I;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof((I=e.batch)==null?void 0:I.multicall)=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return wt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),b=[[]];let p=0,h=0;for(let g=0;g<u.length;g++){const{abi:y,address:w,args:B,functionName:x}=u[g];try{const P=pe({abi:y,args:B,functionName:x});h+=(P.length-2)/2,f>0&&h>f&&b[p].length>0&&(p++,h=(P.length-2)/2,b[p]=[]),b[p]=[...b[p],{allowFailure:!0,callData:P,target:w}]}catch(P){const T=ht(P,{abi:y,address:w,args:B,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!s)throw T;b[p]=[...b[p],{allowFailure:!0,callData:"0x",target:w}]}}const v=await Promise.allSettled(b.map(g=>L(e,he,"readContract")({...l===null?{code:Ur}:{address:l},abi:Yt,account:n,args:[g],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),E=[];for(let g=0;g<v.length;g++){const y=v[g];if(y.status==="rejected"){if(!s)throw y.reason;for(let B=0;B<b[g].length;B++)E.push({status:"failure",error:y.reason,result:void 0});continue}const w=y.value;for(let B=0;B<w.length;B++){const{returnData:x,success:P}=w[B],{callData:T}=b[g][B],{abi:O,address:S,functionName:F,args:k}=u[E.length];try{if(T==="0x")throw new Ft;if(!P)throw new fn({data:x});const j=Qe({abi:O,args:k,data:x,functionName:F});E.push(s?{result:j,status:"success"}:j)}catch(j){const m=ht(j,{abi:O,address:S,args:k,docsPath:"/docs/contract/multicall",functionName:F});if(!s)throw m;E.push({error:m,result:void 0,status:"failure"})}}}if(E.length!==u.length)throw new N("multicall results mismatch");return E}async function lr(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const l of s){const b=l.blockOverrides?Ni(l.blockOverrides):void 0,p=l.calls.map(v=>{const E=v,I=E.account?re(E.account):void 0,g=E.abi?pe(E):E.data,y={...E,account:I,data:E.dataSuffix?de([g||"0x",E.dataSuffix]):g,from:E.from??(I==null?void 0:I.address)};return gt(y),Lt(y)}),h=l.stateOverrides?$r(l.stateOverrides):void 0;c.push({blockOverrides:b,calls:p,stateOverrides:h})}const f=(typeof n=="bigint"?M(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((l,b)=>({...oi(l),calls:l.calls.map((p,h)=>{var O,S;const{abi:v,args:E,functionName:I,to:g}=s[b].calls[h],y=((O=p.error)==null?void 0:O.data)??p.returnData,w=BigInt(p.gasUsed),B=(S=p.logs)==null?void 0:S.map(F=>Fe(F)),x=p.status==="0x1"?"success":"failure",P=v&&x==="success"&&y!=="0x"?Qe({abi:v,data:y,functionName:I}):null,T=(()=>{var k;if(x==="success")return;let F;if(((k=p.error)==null?void 0:k.data)==="0x"?F=new Ft:p.error&&(F=new fn(p.error)),!!F)return ht(F,{abi:v??[],address:g??"0x",args:E,functionName:I??"<unknown>"})})();return{data:y,gasUsed:w,logs:B,status:x,...x==="success"?{result:P}:{error:T}}})}))}catch(c){const u=c,f=dn(u,{});throw f instanceof Nt?u:f}}function br(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new U("Unable to normalize signature.");return s}function hr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return or(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>hr(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>hr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ea(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ea(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?or(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?or(n[r],{strict:!1}):!1)return i}}function Pa(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?gs(e):e;return{...r,...n?{hash:it(r)}:{}}}function wn(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=lf(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?Aa(u)===we(t,0,4):u.type==="event"?it(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new en({name:t});if(i.length===1)return{...i[0],...s?{hash:it(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:it(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const b="inputs"in u&&u.inputs[l];return b?hr(d,b):!1})){if(a&&"inputs"in a&&a.inputs){const d=Ea(u.inputs,a.inputs,r);if(d)throw new e1({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=i;return{...u,overloads:f}})();if(!c)throw new en({name:t});return{...c,...s?{hash:it(c)}:{}}}function Aa(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return wn(n,r)}return e[0]})();return we(it(t),0,4)}function Ql(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return wn(r,s)}return e[0]})(),n=typeof t=="string"?t:Xt(t);return br(n)}function it(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return wn(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Ji(_r(Ql(t)))}class e1 extends U{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${br(Xt(t.abiItem))}\`, and`,`\`${n.type}\` in \`${br(Xt(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class en extends U{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function t1(...e){var o;const[t,n]=(()=>{if(Array.isArray(e[0])){const[i,a]=e;return[r1(i),a]}return e})(),{bytecode:r,args:s}=n;return le(r,(o=t.inputs)!=null&&o.length&&(s!=null&&s.length)?Kr(t.inputs,s):"0x")}function n1(e){return Pa(e)}function r1(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new en({name:"constructor"});return t}function s1(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[oo(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?oo([t,...r],t.name,{args:n}):t,o=o1(s),i=n.length>0?Kr(s.inputs,n):void 0;return i?le(o,i):o}function rt(e,t={}){return Pa(e,t)}function oo(e,t,n){const r=wn(e,t,n);if(r.type!=="function")throw new en({name:t,type:"function"});return r}function o1(e){return Aa(e)}const i1="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",me="0x0000000000000000000000000000000000000000",a1="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function c1(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?re(t.account):void 0;if(i&&!u)throw new N("`account` is required when `traceAssetChanges` is true");const f=u?t1(n1("constructor(bytes, bytes)"),{bytecode:Fi,args:[a1,s1(rt("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async A=>{if(!A.data&&!A.abi)return;const{accessList:C}=await Gi(e,{account:u.address,...A,data:A.abi?pe(A):A.data});return C.map(({address:z,storageKeys:_})=>_.length>0?z:null)})).then(A=>A.flat().filter(Boolean)):[],l=await lr(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((A,C)=>({abi:[rt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:A,from:me,nonce:C})),stateOverrides:[{address:me,nonce:0}]}]:[],{calls:[...s,{}].map(A=>({...A,from:u==null?void 0:u.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((A,C)=>({abi:[rt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:A,from:me,nonce:C})),stateOverrides:[{address:me,nonce:0}]},{calls:d.map((A,C)=>({to:A,abi:[rt("function decimals() returns (uint256)")],functionName:"decimals",from:me,nonce:C})),stateOverrides:[{address:me,nonce:0}]},{calls:d.map((A,C)=>({to:A,abi:[rt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:me,nonce:C})),stateOverrides:[{address:me,nonce:0}]},{calls:d.map((A,C)=>({to:A,abi:[rt("function symbol() returns (string)")],functionName:"symbol",from:me,nonce:C})),stateOverrides:[{address:me,nonce:0}]}]:[]],traceTransfers:a,validation:c}),b=i?l[2]:l[0],[p,h,,v,E,I,g,y]=i?l:[],{calls:w,...B}=b,x=w.slice(0,-1)??[],P=(p==null?void 0:p.calls)??[],T=(h==null?void 0:h.calls)??[],O=[...P,...T].map(A=>A.status==="success"?ke(A.data):null),S=(v==null?void 0:v.calls)??[],F=(E==null?void 0:E.calls)??[],k=[...S,...F].map(A=>A.status==="success"?ke(A.data):null),j=((I==null?void 0:I.calls)??[]).map(A=>A.status==="success"?A.result:null),m=((y==null?void 0:y.calls)??[]).map(A=>A.status==="success"?A.result:null),$=((g==null?void 0:g.calls)??[]).map(A=>A.status==="success"?A.result:null),R=[];for(const[A,C]of k.entries()){const z=O[A];if(typeof C!="bigint"||typeof z!="bigint")continue;const _=j[A-1],G=m[A-1],K=$[A-1],W=A===0?{address:i1,decimals:18,symbol:"ETH"}:{address:d[A-1],decimals:K||_?Number(_??1):void 0,symbol:G??void 0};R.some(D=>D.token.address===W.address)||R.push({token:W,value:{pre:z,post:C,diff:C-z}})}return{assetChanges:R,block:B,results:x}}const Ba="0x6492649264926492649264926492649264926492649264926492649264926492";function u1(e){if(we(e,-32)!==Ba)throw new l1(e)}function f1(e){const{data:t,signature:n,to:r}=e;return le(Kr(ta("address, bytes, bytes"),[r,t,n]),Ba)}function d1(e){try{return u1(e),!0}catch{return!1}}class l1 extends U{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function b1({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new ga.Signature(ke(e),ke(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:ve(i)}async function xn(e,t){var a,c,u,f,d,l;const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??((u=(c=(a=e.chain)==null?void 0:a.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:o=t.multicallAddress??((l=(d=(f=e.chain)==null?void 0:f.contracts)==null?void 0:d.multicall3)==null?void 0:l.address)}=t,i=(()=>{const b=t.signature;return xe(b)?b:typeof b=="object"&&"r"in b&&"s"in b?b1(b):Z(b)})();try{return ql(i)?await h1(e,{...t,multicallAddress:o,signature:i}):await p1(e,{...t,verifierAddress:s,signature:i})}catch(b){try{if(Mt(Lo(n),await Jo({hash:r,signature:i})))return!0}catch{}if(b instanceof Ye)return!1;throw b}}async function h1(e,t){var v;const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:f}=Dl(t.signature);if(await sr(e,{address:n,blockNumber:r,blockTag:s})===mt(["0xef0100",a.address]))return await y1(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:M(a.r,{size:32}),s:M(a.s,{size:32}),yParity:a.yParity};if(!await dd({address:n,authorization:l}))throw new Ye;const p=await L(e,he,"readContract")({...i?{address:i}:{code:Ur},authorizationList:[l],abi:Yt,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:pe({abi:uo,functionName:"isValidSignature",args:[o,u]})}]]}),h=(v=p[p.length-1])==null?void 0:v.returnData;if(h!=null&&h.startsWith("0x1626ba7e"))return!0;throw new Ye}async function p1(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||d1(i)?i:f1({data:s,signature:i,to:r}))(),f=a?{to:a,data:pe({abi:hs,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:jr({abi:hs,args:[n,o,u],bytecode:gf}),...c},{data:d}=await L(e,Gt,"call")(f).catch(l=>{throw l instanceof Yo?new Ye:l});if(Ma(d??"0x0"))return!0;throw new Ye}async function y1(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await L(e,he,"readContract")({address:n,abi:uo,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Xo?new Ye:c})).startsWith("0x1626ba7e"))return!0;throw new Ye}class Ye extends Error{}async function m1(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=Zi(n);return L(e,xn,"verifyHash")({address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function g1(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,d=$d({message:i,primaryType:a,types:c,domain:u});return L(e,xn,"verifyHash")({address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function $a(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=ae(["watchBlockNumber",e.uid,t,n,i]);return _e(d,{onBlockNumber:r,onError:s},l=>Ht(async()=>{var b;try{const p=await L(e,Dt,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(p===c)return;if(p-c>1&&n)for(let h=c+1n;h<p;h++)l.onBlockNumber(h,c),c=h}(c===void 0||p>c)&&(l.onBlockNumber(p,c),c=p)}catch(p){(b=l.onError)==null||b.call(l,p)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=ae(["watchBlockNumber",e.uid,t,n]);return _e(d,{onBlockNumber:r,onError:s},l=>{let b=!0,p=()=>b=!1;return(async()=>{try{const h=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),{unsubscribe:v}=await h.subscribe({params:["newHeads"],onData(E){var g;if(!b)return;const I=ke((g=E.result)==null?void 0:g.number);l.onBlockNumber(I,c),c=I},onError(E){var I;(I=l.onError)==null||I.call(l,E)}});p=v,b||p()}catch(h){s==null||s(h)}})(),()=>p()})})()}async function w1(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:w})=>~~(1<<w)*200,timeout:c=18e4}=t,u=ae(["waitForTransactionReceipt",e.uid,s]),f=(()=>{var w;return t.pollingInterval?t.pollingInterval:(w=e.chain)!=null&&w.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let d,l,b,p=!1,h,v;const{promise:E,resolve:I,reject:g}=_a(),y=c?setTimeout(()=>{v==null||v(),h==null||h(),g(new X0({hash:s}))},c):void 0;return h=_e(u,{onReplaced:o,resolve:I,reject:g},async w=>{if(b=await L(e,Kt,"getTransactionReceipt")({hash:s}).catch(()=>{}),b&&r<=1){clearTimeout(y),w.resolve(b),h==null||h();return}v=L(e,$a,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(B){const x=T=>{clearTimeout(y),v==null||v(),T(),h==null||h()};let P=B;if(!p)try{if(b){if(r>1&&(!b.blockNumber||P-b.blockNumber+1n<r))return;x(()=>w.resolve(b));return}if(n&&!d&&(p=!0,await ps(async()=>{d=await L(e,es,"getTransaction")({hash:s}),d.blockNumber&&(P=d.blockNumber)},{delay:a,retryCount:i}),p=!1),b=await L(e,Kt,"getTransactionReceipt")({hash:s}),r>1&&(!b.blockNumber||P-b.blockNumber+1n<r))return;x(()=>w.resolve(b))}catch(T){if(T instanceof Wo||T instanceof Ko){if(!d){p=!1;return}try{l=d,p=!0;const O=await ps(()=>L(e,ue,"getBlock")({blockNumber:P,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:k})=>k instanceof ri});p=!1;const S=O.transactions.find(({from:k,nonce:j})=>k===l.from&&j===l.nonce);if(!S||(b=await L(e,Kt,"getTransactionReceipt")({hash:S.hash}),r>1&&(!b.blockNumber||P-b.blockNumber+1n<r)))return;let F="replaced";S.to===l.to&&S.value===l.value&&S.input===l.input?F="repriced":S.from===S.to&&S.value===0n&&(F="cancelled"),x(()=>{var k;(k=w.onReplaced)==null||k.call(w,{reason:F,replacedTransaction:l,transaction:S,transactionReceipt:b}),w.resolve(b)})}catch(O){x(()=>w.reject(O))}}else x(()=>w.reject(T))}}})}),E}function x1(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const p=ae(["watchBlocks",e.uid,t,n,r,f,c]);return _e(p,{onBlock:s,onError:o},h=>Ht(async()=>{var v;try{const E=await L(e,ue,"getBlock")({blockTag:t,includeTransactions:f});if(E.number!==null&&(d==null?void 0:d.number)!=null){if(E.number===d.number)return;if(E.number-d.number>1&&n)for(let I=(d==null?void 0:d.number)+1n;I<E.number;I++){const g=await L(e,ue,"getBlock")({blockNumber:I,includeTransactions:f});h.onBlock(g,d),d=g}}((d==null?void 0:d.number)==null||t==="pending"&&(E==null?void 0:E.number)==null||E.number!==null&&E.number>d.number)&&(h.onBlock(E,d),d=E)}catch(E){(v=h.onError)==null||v.call(h,E)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,h=!0,v=()=>p=!1;return(async()=>{try{r&&L(e,ue,"getBlock")({blockTag:t,includeTransactions:f}).then(g=>{p&&h&&(s(g,void 0),h=!1)}).catch(o);const E=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return g?g.value:e.transport}return e.transport})(),{unsubscribe:I}=await E.subscribe({params:["newHeads"],async onData(g){var w;if(!p)return;const y=await L(e,ue,"getBlock")({blockNumber:(w=g.result)==null?void 0:w.number,includeTransactions:f}).catch(()=>{});p&&(s(y,d),h=!1,d=y)},onError(g){o==null||o(g)}});v=I,p||v()}catch(E){o==null||o(E)}})(),()=>v()})()}function v1(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),b=d??!1;return l?(()=>{const v=ae(["watchEvent",t,n,r,e.uid,s,f,i]);return _e(v,{onLogs:c,onError:a},E=>{let I;i!==void 0&&(I=i-1n);let g,y=!1;const w=Ht(async()=>{var B;if(!y){try{g=await L(e,Hi,"createEventFilter")({address:t,args:n,event:s,events:o,strict:b,fromBlock:i})}catch{}y=!0;return}try{let x;if(g)x=await L(e,yn,"getFilterChanges")({filter:g});else{const P=await L(e,Dt,"getBlockNumber")({});I&&I!==P?x=await L(e,Or,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:I+1n,toBlock:P}):x=[],I=P}if(x.length===0)return;if(r)E.onLogs(x);else for(const P of x)E.onLogs([P])}catch(x){g&&x instanceof mr&&(y=!1),(B=E.onError)==null||B.call(E,x)}},{emitOnBegin:!0,interval:f});return async()=>{g&&await L(e,mn,"uninstallFilter")({filter:g}),w()}})})():(()=>{let v=!0,E=()=>v=!1;return(async()=>{try{const I=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return B?B.value:e.transport}return e.transport})(),g=o??(s?[s]:void 0);let y=[];g&&(y=[g.flatMap(x=>Rt({abi:[x],eventName:x.name,args:n}))],s&&(y=y[0]));const{unsubscribe:w}=await I.subscribe({params:["logs",{address:t,topics:y}],onData(B){var P;if(!v)return;const x=B.result;try{const{eventName:T,args:O}=Cr({abi:g??[],data:x.data,topics:x.topics,strict:b}),S=Fe(x,{args:O,eventName:T});c([S])}catch(T){let O,S;if(T instanceof Bt||T instanceof sn){if(d)return;O=T.abiItem.name,S=(P=T.abiItem.inputs)==null?void 0:P.some(k=>!("name"in k&&k.name))}const F=Fe(x,{args:S?[]:{},eventName:O});c([F])}},onError(B){a==null||a(B)}});E=w,v||E()}catch(I){a==null||a(I)}})(),()=>E()})()}function E1(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=ae(["watchPendingTransactions",e.uid,t,o]);return _e(u,{onTransactions:r,onError:n},f=>{let d;const l=Ht(async()=>{var b;try{if(!d)try{d=await L(e,Di,"createPendingTransactionFilter")({});return}catch(h){throw l(),h}const p=await L(e,yn,"getFilterChanges")({filter:d});if(p.length===0)return;if(t)f.onTransactions(p);else for(const h of p)f.onTransactions([h])}catch(p){(b=f.onError)==null||b.call(f,p)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await L(e,mn,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const b=l.result;r([b])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function P1(e){var d,l,b;const{scheme:t,statement:n,...r}=((d=e.match(A1))==null?void 0:d.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=((l=e.match(B1))==null?void 0:l.groups)??{},f=(b=e.split("Resources:")[1])==null?void 0:b.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const A1=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,B1=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function $1(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!ce(r.address,{strict:!1})||t&&!Mt(r.address,t))return!1}catch{return!1}return!0}async function I1(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=P1(s);if(!f.address||!$1({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const l=Zi(s);return xn(e,{address:f.address,hash:l,signature:a,...u})}async function S1(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var a,c,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,M(r)]:[t]},{retryCount:0}),i=(((u=(c=(a=e.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||zi)(s);if(i.status==="reverted"&&n)throw new Y0({receipt:i});return i}function T1(e){return{call:t=>Gt(e,t),createAccessList:t=>Gi(e,t),createBlockFilter:()=>td(e),createContractEventFilter:t=>Ho(e,t),createEventFilter:t=>Hi(e,t),createPendingTransactionFilter:()=>Di(e),estimateContractGas:t=>Ru(e,t),estimateGas:t=>Fr(e,t),getBalance:t=>nd(e,t),getBlobBaseFee:()=>rd(e),getBlock:t=>ue(e,t),getBlockNumber:t=>Dt(e,t),getBlockTransactionCount:t=>sd(e,t),getBytecode:t=>sr(e,t),getChainId:()=>Nr(e),getCode:t=>sr(e,t),getContractEvents:t=>pi(e,t),getEip712Domain:t=>id(e,t),getEnsAddress:t=>_f(e,t),getEnsAvatar:t=>Jf(e,t),getEnsName:t=>Qf(e,t),getEnsResolver:t=>ed(e,t),getEnsText:t=>ji(e,t),getFeeHistory:t=>ud(e,t),estimateFeesPerGas:t=>yu(e,t),getFilterChanges:t=>yn(e,t),getFilterLogs:t=>fd(e,t),getGasPrice:()=>Tr(e),getLogs:t=>Or(e,t),getProof:t=>Kl(e,t),estimateMaxPriorityFeePerGas:t=>pu(e,t),fillTransaction:t=>bi(e,t),getStorageAt:t=>Yl(e,t),getTransaction:t=>es(e,t),getTransactionConfirmations:t=>Xl(e,t),getTransactionCount:t=>ai(e,t),getTransactionReceipt:t=>Kt(e,t),multicall:t=>Jl(e,t),prepareTransactionRequest:t=>hi(e,t),readContract:t=>he(e,t),sendRawTransaction:t=>Nf(e,t),sendRawTransactionSync:t=>S1(e,t),simulate:t=>lr(e,t),simulateBlocks:t=>lr(e,t),simulateCalls:t=>c1(e,t),simulateContract:t=>Pf(e,t),verifyHash:t=>xn(e,t),verifyMessage:t=>m1(e,t),verifySiweMessage:t=>I1(e,t),verifyTypedData:t=>g1(e,t),uninstallFilter:t=>mn(e,t),waitForTransactionReceipt:t=>w1(e,t),watchBlocks:t=>x1(e,t),watchBlockNumber:t=>$a(e,t),watchContractEvent:t=>kf(e,t),watchEvent:t=>v1(e,t),watchPendingTransactions:t=>E1(e,t)}}function G1(e){const{key:t="public",name:n="Public Client"}=e;return Cf({...e,key:t,name:n,type:"publicClient"}).extend(T1)}export{Sc as AbiConstructorNotFoundError,xs as AbiConstructorParamsNotFoundError,Ao as AbiDecodingDataSizeTooSmallError,Ft as AbiDecodingZeroDataError,Tc as AbiEncodingArrayLengthMismatchError,kc as AbiEncodingBytesSizeMismatchError,Nc as AbiEncodingLengthMismatchError,Fc as AbiErrorInputsNotFoundError,vs as AbiErrorNotFoundError,Bo as AbiErrorSignatureNotFoundError,Es as AbiEventNotFoundError,Cc as AbiEventSignatureEmptyTopicsError,$o as AbiEventSignatureNotFoundError,ft as AbiFunctionNotFoundError,Io as AbiFunctionOutputsNotFoundError,Rc as AbiFunctionSignatureNotFoundError,q0 as AccountStateConflictError,q1 as AtomicReadyWalletRejectedUpgradeError,V1 as AtomicityNotSupportedError,N as BaseError,ni as BaseFeeScalarError,ri as BlockNotFoundError,Z1 as BundleTooLargeError,zc as BytesSizeMismatchError,Yo as CallExecutionError,W1 as ChainDisconnectedError,nr as ChainDoesNotSupportContract,lc as CircularReferenceError,Ci as ClientChainNotConfiguredError,Xo as ContractFunctionExecutionError,Qn as ContractFunctionRevertedError,J0 as ContractFunctionZeroDataError,Q0 as CounterfactualDeploymentFailedError,Bt as DecodeLogDataMismatch,sn as DecodeLogTopicsMismatch,K1 as DuplicateIdError,Ir as Eip1559FeesNotSupportedError,At as EnsAvatarInvalidNftUriError,jf as EnsAvatarUnsupportedNamespaceError,Dr as EnsAvatarUriResolutionError,au as EstimateGasExecutionError,Vt as ExecutionRevertedError,Dn as FeeCapTooHighError,ts as FeeCapTooLowError,Uc as FilterTypeNotSupportedError,bs as HttpRequestError,os as InsufficientFundsError,Sa as IntegerOutOfRangeError,Ca as InternalRpcError,is as IntrinsicGasTooHighError,as as IntrinsicGasTooLowError,Mc as InvalidAbiDecodingTypeError,Lc as InvalidAbiEncodingTypeError,tc as InvalidAbiItemError,sc as InvalidAbiParametersError,uc as InvalidAbiTypeParameterError,Me as InvalidAddressError,So as InvalidArrayError,Ta as InvalidBytesBooleanError,_c as InvalidDefinitionTypeError,xd as InvalidDomainError,cc as InvalidFunctionModifierError,Y1 as InvalidHexBooleanError,mr as InvalidInputRpcError,ac as InvalidModifierError,oc as InvalidParameterError,X1 as InvalidParamsRpcError,bc as InvalidParenthesisError,vd as InvalidPrimaryTypeError,J1 as InvalidRequestRpcError,W0 as InvalidSerializableTransactionError,pt as InvalidSignatureError,dc as InvalidStructSignatureError,Ed as InvalidStructTypeError,Q1 as JsonRpcVersionUnsupportedError,eb as LimitExceededRpcError,bu as MaxFeePerGasTooLowError,tb as MethodNotFoundRpcError,nb as MethodNotSupportedRpcError,ss as NonceMaxValueError,ns as NonceTooHighError,rs as NonceTooLowError,rb as ParseRpcError,sb as ProviderDisconnectedError,ob as ProviderRpcError,fn as RawContractError,ib as ResourceNotFoundRpcError,ab as ResourceUnavailableRpcError,cb as RpcError,Ra as RpcRequestError,ub as SizeExceedsPaddingSizeError,fb as SizeOverflowError,io as SliceOffsetOutOfBoundsError,ic as SolidityProtectedKeywordError,V0 as StateAssignmentConflictError,db as SwitchChainError,lb as TimeoutError,qn as TipAboveFeeCapError,K0 as TransactionExecutionError,Wo as TransactionNotFoundError,Ko as TransactionReceiptNotFoundError,bb as TransactionRejectedRpcError,cs as TransactionTypeNotSupportedError,hb as UnauthorizedProviderError,pb as UnknownBundleIdError,Nt as UnknownNodeError,yb as UnknownRpcError,fc as UnknownSignatureError,nc as UnknownTypeError,mb as UnsupportedChainIdError,gb as UnsupportedNonOptionalCapabilityError,wb as UnsupportedProviderMethodError,xb as UrlRequiredError,vb as UserRejectedRequestError,X0 as WaitForTransactionReceiptTimeoutError,gt as assertRequest,ci as blobsToCommitments,ui as blobsToProofs,Gc as boolToBytes,Ia as boolToHex,O0 as bytesToBigInt,z0 as bytesToBool,Z as bytesToHex,Ie as bytesToNumber,L0 as bytesToString,Vi as ccipFetch,Vi as ccipRequest,cn as checksumAddress,Bu as commitmentToVersionedHash,$u as commitmentsToVersionedHashes,de as concat,w0 as concatBytes,mt as concatHex,Cf as createClient,G1 as createPublicClient,Eb as createTransport,Ot as decodeAbiParameters,Vo as decodeErrorResult,Cr as decodeEventLog,Rf as decodeFunctionData,Qe as decodeFunctionResult,U1 as defineChain,Fi as deploylessCallViaBytecodeBytecode,mf as deploylessCallViaFactoryBytecode,Ue as encodeAbiParameters,jr as encodeDeployData,Zs as encodeErrorResult,Rt as encodeEventTopics,pe as encodeFunctionData,Of as encodeFunctionResult,Pb as erc20Abi,hs as erc6492SignatureValidatorAbi,gf as erc6492SignatureValidatorByteCode,i1 as ethAddress,Na as etherUnits,Ab as fallback,oi as formatBlock,Br as formatEther,ge as formatGwei,Fe as formatLog,Sr as formatTransaction,zi as formatTransactionReceipt,Lt as formatTransactionRequest,ka as formatUnits,Je as getAbiItem,Lo as getAddress,wt as getChainContractAddress,ht as getContractError,an as getEventSelector,m0 as getEventSignature,Ct as getFunctionSelector,m0 as getFunctionSignature,Nu as getTransactionType,Ad as getTypesForEIP712Domain,Bb as gweiUnits,Id as hashDomain,Zi as hashMessage,Wi as hashStruct,$d as hashTypedData,ke as hexToBigInt,Ma as hexToBool,ve as hexToBytes,Te as hexToNumber,$b as http,ce as isAddress,Mt as isAddressEqual,xe as isHex,V as keccak256,Mf as labelhash,lu as maxUint256,Yt as multicall3Abi,rr as namehash,Hc as numberToBytes,M as numberToHex,yd as offchainLookup,qi as offchainLookupAbiItem,pd as offchainLookupSignature,pr as pad,Ib as padBytes,De as padHex,Po as parseAbi,gs as parseAbiItem,ws as parseAbiParameters,Rr as parseEventLogs,k0 as prepareEncodeFunctionData,gd as presignMessagePrefix,T1 as publicActions,Jo as recoverAddress,nu as recoverPublicKey,uu as rpcTransactionType,b1 as serializeSignature,Au as sha256,Sb as shouldThrow,b1 as signatureToHex,H as size,bt as slice,Uo as sliceBytes,x0 as sliceHex,qe as stringToBytes,Hn as stringToHex,ae as stringify,ku as toBlobSidecars,Tu as toBlobs,yt as toBytes,zo as toEventHash,an as toEventSelector,m0 as toEventSignature,zo as toFunctionHash,Ct as toFunctionSelector,m0 as toFunctionSignature,Le as toHex,wd as toPrefixedMessage,ru as toRlp,si as transactionType,tn as trim,hs as universalSignatureValidatorAbi,gf as universalSignatureValidatorByteCode,Pd as validateTypedData,Sf as withCache,ps as withRetry,Tb as withTimeout,me as zeroAddress};
